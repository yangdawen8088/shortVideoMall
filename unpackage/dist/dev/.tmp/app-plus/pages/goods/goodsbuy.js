(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/goods/goodsbuy"],{

/***/ 100:
/*!************************************************************************************************************!*\
  !*** /Volumes/machard/HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue?vue&type=template&id=b53f3278& ***!
  \************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsbuy.vue?vue&type=template&id=b53f3278& */ 101);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n//# sourceURL=undefined");

/***/ }),

/***/ 101:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Volumes/machard/HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue?vue&type=template&id=b53f3278& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {\n      staticClass: \"goodsbuy \",\n      staticStyle: { position: \"fixed\", width: \"100%\", height: \"100%\" },\n      style: { paddingTop: _vm.system.statusBarHeight + \"px\" }\n    },\n    [\n      _c(\"view\", { staticClass: \"cu-bar \" }, [\n        _c(\n          \"view\",\n          {\n            staticClass: \"action\",\n            attrs: { eventid: \"1379091e-0\" },\n            on: { tap: _vm.back }\n          },\n          [_c(\"text\", { staticClass: \"cuIcon-back\" })]\n        ),\n        _c(\"view\", { staticClass: \"content text-bold\" }, [_vm._v(\"下单支付\")])\n      ]),\n      _c(\n        \"scroll-view\",\n        {\n          staticStyle: { width: \"100%\", height: \"100%\" },\n          attrs: { \"scroll-y\": \"true\" }\n        },\n        [\n          _c(\"form\", [\n            _c(\"view\", { staticClass: \"cu-form-group margin-top\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"收货人\")]),\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.receiver,\n                    expression: \"receiver\"\n                  }\n                ],\n                attrs: {\n                  placeholder: \"输入收货人姓名\",\n                  name: \"receiver\",\n                  eventid: \"1379091e-1\"\n                },\n                domProps: { value: _vm.receiver },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.receiver = $event.target.value\n                  }\n                }\n              })\n            ]),\n            _c(\"view\", { staticClass: \"cu-form-group\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"手机号\")]),\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.phone,\n                    expression: \"phone\"\n                  }\n                ],\n                attrs: {\n                  placeholder: \"输入收货人手机号\",\n                  type: \"tel\",\n                  name: \"phone\",\n                  eventid: \"1379091e-2\"\n                },\n                domProps: { value: _vm.phone },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.phone = $event.target.value\n                  }\n                }\n              })\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"cu-form-group\" },\n              [\n                _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"地址选择\")]),\n                _c(\n                  \"picker\",\n                  {\n                    attrs: {\n                      mode: \"multiSelector\",\n                      value: _vm.regionIndex,\n                      range: _vm.regionArray,\n                      eventid: \"1379091e-3\"\n                    },\n                    on: {\n                      change: _vm.selectRegion,\n                      columnchange: _vm.regionChange\n                    }\n                  },\n                  [\n                    _c(\"view\", { staticClass: \"picker\" }, [\n                      _vm._v(_vm._s(_vm.region))\n                    ])\n                  ]\n                )\n              ],\n              1\n            ),\n            _c(\"view\", { staticClass: \"cu-form-group\" }, [\n              _c(\"textarea\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.address,\n                    expression: \"address\"\n                  }\n                ],\n                attrs: {\n                  maxlength: \"-1\",\n                  placeholder: \"请输入详细地址\",\n                  eventid: \"1379091e-4\"\n                },\n                domProps: { value: _vm.address },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.address = $event.target.value\n                  }\n                }\n              })\n            ]),\n            _c(\"view\", { staticClass: \"cu-form-group align-start\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"备注\")]),\n              _c(\"textarea\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.remark,\n                    expression: \"remark\"\n                  }\n                ],\n                attrs: {\n                  maxlength: \"-1\",\n                  placeholder: \"你想对卖家说什么\",\n                  eventid: \"1379091e-5\"\n                },\n                domProps: { value: _vm.remark },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.remark = $event.target.value\n                  }\n                }\n              })\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"cu-form-group\" },\n              [\n                _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"商品规格\")]),\n                _c(\n                  \"picker\",\n                  {\n                    attrs: {\n                      mode: \"selector\",\n                      value: _vm.styleIndex,\n                      range: _vm.stylelist,\n                      eventid: \"1379091e-6\"\n                    },\n                    on: { change: _vm.selectStyle }\n                  },\n                  [\n                    _c(\"view\", { staticClass: \"picker\" }, [\n                      _vm._v(\n                        _vm._s(\n                          _vm.styleIndex > -1\n                            ? _vm.goods.style[_vm.styleIndex].styleName\n                            : \"请选择\"\n                        )\n                      )\n                    ])\n                  ]\n                )\n              ],\n              1\n            ),\n            _c(\"view\", { staticClass: \"cu-form-group\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"商品价格\")]),\n              _c(\"text\", { staticClass: \"text-red text-bold text-xl\" }, [\n                _vm._v(_vm._s(_vm.priceLabel))\n              ])\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"cu-form-group\" },\n              [\n                _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"购买数量\")]),\n                _c(\"uni-number-box\", {\n                  attrs: {\n                    min: 1,\n                    max: 10,\n                    value: _vm.count,\n                    eventid: \"1379091e-7\",\n                    mpcomid: \"1379091e-0\"\n                  },\n                  on: { change: _vm.countChange }\n                })\n              ],\n              1\n            ),\n            _c(\"view\", { staticClass: \"cu-form-group\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(\"运费\")]),\n              _c(\n                \"text\",\n                { staticClass: \"text-red text-bold text-price text-xl\" },\n                [_vm._v(_vm._s(_vm.goods.post_fee))]\n              )\n            ]),\n            _vm.goods.discount_amount != null\n              ? _c(\"view\", { staticClass: \"cu-form-group\" }, [\n                  _c(\"view\", { staticClass: \"title\" }, [\n                    _vm._v(_vm._s(_vm.goods.discount_label))\n                  ]),\n                  _c(\n                    \"text\",\n                    { staticClass: \"text-red text-bold text-price text-xl\" },\n                    [_vm._v(_vm._s(_vm.goods.discount_amount))]\n                  )\n                ])\n              : _vm._e()\n          ])\n        ],\n        1\n      ),\n      _c(\n        \"view\",\n        {\n          staticClass: \"cu-bar bg-white tabbar border shop fixed \",\n          staticStyle: { top: \"unset\", bottom: \"0\", \"z-index\": \"100\" }\n        },\n        [\n          _c(\n            \"view\",\n            {\n              staticClass: \"flex-treble bg-white submit text-price text-red\",\n              staticStyle: { flex: \"1\", \"font-size\": \"60rpx\" }\n            },\n            [\n              _vm._v(\n                _vm._s(\n                  _vm.price * _vm.count +\n                    _vm.goods.post_fee -\n                    (_vm.goods.discount_amount != null\n                      ? _vm.goods.discount_amount\n                      : 0)\n                )\n              )\n            ]\n          ),\n          _vm.paytype == \"wxpay\"\n            ? _c(\n                \"view\",\n                {\n                  staticClass: \"flex-sub bg-green submit\",\n                  attrs: { eventid: \"1379091e-8\" },\n                  on: { tap: _vm.wxpay }\n                },\n                [_vm._v(\"微信支付\")]\n              )\n            : _vm._e(),\n          _vm.paytype == \"alipay\"\n            ? _c(\n                \"view\",\n                {\n                  staticClass: \"flex-sub bg-blue submit\",\n                  attrs: { eventid: \"1379091e-9\" },\n                  on: { tap: _vm.alipay }\n                },\n                [_vm._v(\"支付宝支付\")]\n              )\n            : _vm._e(),\n          _vm.paytype == \"nopay\"\n            ? _c(\"view\", { staticClass: \"flex-sub bg-grey submit\" }, [\n                _vm._v(\"请使用客户端或小程序\")\n              ])\n            : _vm._e()\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n//# sourceURL=undefined");

/***/ }),

/***/ 102:
/*!******************************************************************************************************!*\
  !*** /Volumes/machard/HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsbuy.vue?vue&type=script&lang=js& */ 103);\n/* harmony import */ var _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__[\"default\"] = (_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=undefined");

/***/ }),

/***/ 103:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Volumes/machard/HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = void 0;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _uniNumberBox = _interopRequireDefault(__webpack_require__(/*! @dcloudio/uni-ui/lib/uni-number-box/uni-number-box.vue */ 45));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}var _default =\n{\n  components: { uniNumberBox: _uniNumberBox.default },\n  data: function data() {\n    return {\n      system: this.systemInfo(),\n      goods: {},\n      priceLabel: \"\",\n      detaillist: [],\n      stylelist: [],\n      styleIndex: -1,\n      promoteFlag: false,\n      promoteLabel: '',\n      region: '',\n      regionArray: [['请选择'], ['请选择'], ['请选择']],\n      regionIndex: [0, 0, 0],\n      regionData: [],\n      price: 0,\n      count: 1,\n      tobuy: true,\n      tobuyAnimation: {},\n      paytype: 'nopay',\n      remark: '',\n      address: '',\n      receiver: this.getUserInfo().nick_name,\n      phone: this.getUserInfo().phone };\n\n\n  },\n  onLoad: function onLoad(option) {var _this = this;\n\n    var goodsId = option.goodsId;\n    var initStyleName = option.styleName;\n    this.postJson({\n      path: '/goods_new_detail.jsp',\n\n      data: {\n        goodsid: goodsId },\n\n\n      success: function success(res) {\n        console.log(res.data);\n        if (\"ok\" == res.data.status) {\n          _this.$data.goods = res.data.data;\n          _this.promoteFlag = _this.goods.promote == 1;\n          if (_this.goods.price > _this.goods.promote_price) {\n            _this.priceLabel = \"¥\" + _this.goods.promote_price + \" ~ ¥\" + _this.goods.max_price;\n          } else {\n            _this.priceLabel = \"¥\" + _this.goods.price + \" ~ ¥\" + _this.goods.max_price;\n          }\n          _this.detaillist = _this.goods.detail;\n          var styleArray = _this.goods.style;\n          for (var x in styleArray) {\n            var style = styleArray[x];\n            var styleName = style.styleName;\n            var goodsPrice = style.goodsPrice;\n            var styleString = styleName + \" ¥\" + goodsPrice;\n            var price = goodsPrice;\n\n            if (style.promotePrice) {\n\n              var promoteStartTime = style.promoteStarttime;\n              var promoteEndTime = style.promoteEndtime;\n              var now = Math.floor(Date().getTime() / 1000);\n              if (now < promoteStartTime) {\n                styleString = styleName + \" ¥\" + goodsPrice;\n                price = style.goodsPrice;\n              } else if (now > promoteEndTime) {\n                styleString = styleName + \" ¥\" + goodsPrice;\n                price = style.goodsPrice;\n              } else {\n                styleString = styleName + \" ¥\" + promotePrice;\n                price = style.promotePrice;\n              }\n\n            } else {\n              styleString = styleName + \" ¥\" + goodsPrice;\n              price = style.goodsPrice;\n            }\n\n\n            _this.stylelist.push(styleString);\n            if (initStyleName == styleName) {\n              _this.styleIndex = x;\n              _this.price = price;\n              _this.priceLabel = '¥' + price;\n            }\n          }\n        }\n      } });\n\n\n\n\n    var that = this;\n    var data = {\n      multiArray: this.regionArray,\n      multiIndex: this.regionIndex,\n      multiData: this.regionData };\n\n    var pcode = '100000';\n    this.postJson({\n      path: '/district.jsp',\n\n      data: {\n        code: pcode },\n\n\n      success: function success(res) {\n        console.log(res.data);\n        if (\"ok\" == res.data.status) {\n          data.multiData[0] = res.data.data;\n          data.multiArray[0] = [];\n          for (var x in res.data.data) {\n            var district = res.data.data[x];\n            data.multiArray[0].push(district.name);\n          }\n          data.multiIndex[1] = 0;\n          data.multiArray[1] = ['请选择'];\n          data.multiArray[2] = ['请选择'];\n          data.multiIndex[2] = 0;\n\n          _this.regionArray = data.multiArray;\n          _this.regionIndex = data.multiIndex;\n          _this.regionData = data.multiData;\n          _this.region = 'xx省xx市xx县';\n        }\n      } });\n\n\n\n    uni.getProvider({\n      service: 'payment',\n      success: function success(res) {\n        console.log(res.provider);\n        if (~res.provider.indexOf('wxpay')) {\n          _this.paytype = 'wxpay';\n        } else if (~res.provider.indexOf('alipay')) {\n          _this.paytype = 'alipay';\n        }\n      } });\n\n  },\n  methods: {\n    selectStyle: function selectStyle(e) {\n      console.log('选择商品规格为', e.target.value);\n      this.styleIndex = e.target.value;\n      var style = this.goods.style[this.styleIndex];\n      if (style.promotePrice) {\n\n        this.promoteFlag = true;\n        var promoteStartTime = style.promoteStarttime;\n        var promoteEndTime = style.promoteEndtime;\n        var now = Math.floor(Date().getTime() / 1000);\n        if (now < promoteStartTime) {\n          this.priceLabel = '¥' + style.goodsPrice;\n          this.promoteLabel = new Date(promoteStartTime * 1000).toLocaleDateString() + \"开始\";\n          this.price = style.goodsPrice;\n        } else if (now > promoteEndTime) {\n          this.priceLabel = '¥' + style.goodsPrice;\n          this.promoteLabel = \"已结束\";\n          this.price = style.goodsPrice;\n        } else {\n          this.priceLabel = '¥' + style.promotePrice;\n          this.promoteLabel = new Date(promoteEndTime * 1000).toLocaleDateString() + \"截止\";\n          this.price = style.promotePrice;\n        }\n\n      } else {\n        this.priceLabel = '¥' + style.goodsPrice;\n        this.promoteFlag = false;\n        this.price = style.goodsPrice;\n      }\n    },\n\n    selectRegion: function selectRegion(e) {\n      this.multiIndex = e.detail.value;\n\n    },\n    regionChange: function regionChange(e) {var _this2 = this;\n      var that = this;\n      var data = {\n        multiArray: this.regionArray,\n        multiIndex: this.regionIndex,\n        multiData: this.regionData };\n\n      data.multiIndex[e.detail.column] = e.detail.value;\n      switch (e.detail.column) {\n        case 0:{\n\n            var pcode = data.multiData[0][data.multiIndex[0]].code;\n            this.postJson({\n              path: '/district.jsp',\n\n              data: {\n                code: pcode },\n\n\n              success: function success(res) {\n                console.log(res.data);\n                if (\"ok\" == res.data.status) {\n                  data.multiData[1] = res.data.data;\n                  data.multiArray[1] = [];\n                  for (var x in res.data.data) {\n                    var district = res.data.data[x];\n                    data.multiArray[1].push(district.name);\n                  }\n                  data.multiIndex[1] = 0;\n                  data.multiArray[2] = ['请选择'];\n                  data.multiIndex[2] = 0;\n\n                  _this2.regionArray = data.multiArray;\n                  _this2.regionIndex = data.multiIndex;\n                  _this2.regionData = data.multiData;\n\n                }\n\n                _this2.region = data.multiArray[0][data.multiIndex[0]] + 'xx市xx县';\n              } });\n\n\n\n\n\n          }\n          break;\n        case 1:{\n\n            var _pcode = data.multiData[1][data.multiIndex[1]].code;\n            uni.request({\n              url: 'https://www.dpsoft.top/district.jsp', //仅为示例，并非真实接口地址。\n              method: \"POST\",\n              data: {\n                code: _pcode },\n\n              header: {\n                \"Content-Type\": \"application/json\" },\n\n              success: function success(res) {\n                console.log(res.data);\n                if (\"ok\" == res.data.status) {\n                  data.multiData[2] = res.data.data;\n                  data.multiArray[2] = [];\n                  for (var x in res.data.data) {\n                    var district = res.data.data[x];\n                    data.multiArray[2].push(district.name);\n                  }\n\n                  data.multiIndex[2] = 0;\n\n                  that.regionArray = data.multiArray;\n                  that.regionIndex = data.multiIndex;\n                  that.regionData = data.multiData;\n                }\n                _this2.region = data.multiArray[0][data.multiIndex[0]] + data.multiArray[1][data.multiIndex[1]] + 'xx县';\n              } });\n\n\n\n          }\n          break;\n        case 2:{\n            this.region = data.multiArray[0][data.multiIndex[0]] + data.multiArray[1][data.multiIndex[1]] + data.multiArray[2][data.multiIndex[2]];\n          }\n          break;}\n\n\n    },\n    countChange: function countChange(value) {\n\n      this.count = value;\n    },\n    alipay: function alipay() {\n\n    },\n    wxpay: function wxpay() {var _this3 = this;\n      if (this.receiver.trim().length <= 0) {\n        uni.showToast({\n          icon: 'none',\n          title: '请填写收货人姓名' });\n\n        return;\n      }\n      var phonereg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n\n      if (this.phone != null && this.phone.trim().length > 0 && phonereg.test(this.phone)) {\n\n      } else {\n        uni.showToast({\n          icon: \"none\",\n          title: \"请输入正确的收货人手机号\" });\n\n        return;\n      }\n\n      if (this.regionArray[0][this.regionIndex[0]] == '请选择') {\n        uni.showToast({\n          icon: 'none',\n          title: '请选择收货地址省份' });\n\n        return;\n      }\n      if (this.regionArray[1][this.regionIndex[1]] == '请选择') {\n        uni.showToast({\n          icon: 'none',\n          title: '请选择收货地址城市' });\n\n        return;\n      }\n      if (this.regionArray[2][this.regionIndex[2]] == '请选择') {\n        uni.showToast({\n          icon: 'none',\n          title: '请选择收货地址市县' });\n\n        return;\n      }\n      if (this.address.trim().length <= 0) {\n        uni.showToast({\n          icon: 'none',\n          title: '请选填写收货详细地址' });\n\n        return;\n      }\n      var data = {};\n      data.goods_id = this.goods.id;\n      data.number = this.count;\n      data.remark = this.remark;\n      data.receiver = this.receiver;\n      data.phone = this.phone;\n      data.address = this.regionArray[0][this.regionIndex[0]] + this.regionArray[1][this.regionIndex[1]] + this.regionArray[2][this.regionIndex[2]] + this.address;\n      data.style = this.goods.style[this.styleIndex];\n\n\n\n\n\n      data.tradeType = 'NATIVE';\n\n\n\n\n\n      uni.showLoading({\n        title: \"加载中\",\n        mask: true });\n\n      this.getOpenId(function (userres) {\n        console.log(userres);\n        if (userres) {\n          data.openId = userres.data.data.openid;\n        }\n        _this3.postJson({\n          path: \"/order_wxpay_init.jsp\",\n          data: data,\n          success: function success(res) {\n            uni.hideLoading();\n            if (\"ok\" == res.data.status) {\n              var paydata = res.data.data;\n\n\n\n\n              paydata.success = function (e) {\n                uni.showToast({\n\n                  title: \"支付成功\" });\n\n\n                uni.redirectTo({\n                  url: \"/pages/order/order?code\" + paydata.code });\n\n              };\n              paydata.fail = function (e) {\n                uni.showToast({\n                  icon: \"none\",\n                  title: \"支付失败\" });\n\n              };\n\n\n\n\n\n\n\n\n\n\n              paydata.provider = \"wxpay\";\n              uni.requestPayment(paydata);\n\n\n\n            } else {\n              uni.showToast({\n                icon: \"none\",\n                title: res.data.msg });\n\n            }\n          } });\n\n      });\n\n    } } };exports.default = _default;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-app-plus/dist/index.js */ 1)[\"default\"]))\n\n//# sourceURL=undefined");

/***/ }),

/***/ 98:
/*!************************************************************************************************!*\
  !*** /Volumes/machard/HBuilderProject/goodshowuni/main.js?{"page":"pages%2Fgoods%2Fgoodsbuy"} ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("__webpack_require__(/*! uni-pages */ 4);\nvar _mpvuePageFactory = _interopRequireDefault(__webpack_require__(/*! mpvue-page-factory */ 31));\nvar _goodsbuy = _interopRequireDefault(__webpack_require__(/*! ./pages/goods/goodsbuy.vue */ 99));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\nPage((0, _mpvuePageFactory.default)(_goodsbuy.default));\n\n//# sourceURL=undefined");

/***/ }),

/***/ 99:
/*!*****************************************************************************!*\
  !*** /Volumes/machard/HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./goodsbuy.vue?vue&type=template&id=b53f3278& */ 100);\n/* harmony import */ var _goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./goodsbuy.vue?vue&type=script&lang=js& */ 102);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var _HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 27);\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _goodsbuy_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _goodsbuy_vue_vue_type_template_id_b53f3278___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"HBuilderProject/goodshowuni/pages/goods/goodsbuy.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=undefined");

/***/ })

},[[98,"common/runtime","common/vendor"]]]);