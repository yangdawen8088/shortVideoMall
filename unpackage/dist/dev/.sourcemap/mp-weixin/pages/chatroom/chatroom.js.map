{"version":3,"sources":["webpack:////Volumes/machard/HBuilderProject/goodshowuni/main.js","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue?2cbc","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue?5b6b","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue?7083","webpack:///../../../../../HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue?e455","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue?56f7","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue?a67f","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/chat.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue?2b05","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue?7f39","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue?8297","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/record_status.js","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue?5047","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue?dfd6","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue?671d","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue?de45","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue?8b26","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue?2ae4","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue?2d17","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue?674e","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audioCtxFactory.js","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/playStatus.js","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue?f25e","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue?1e3c","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue?da66","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue?04d5","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue?eda2","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue?00c1","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue?7466","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue?1815","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue?50e7","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue?bb73","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue?7ff4","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue?d3f0","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue?043a","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue?33a1","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue?690c","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue?8e79","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue?3d59","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue?6b49","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue?5c36","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue?efc4","webpack:///../../../../../HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue?2add","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue?c877","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue?0ef9","webpack:////Volumes/machard/HBuilderProject/goodshowuni/comps/chat/chat.vue?4f0f","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue?49ed","webpack:////Volumes/machard/HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue?5f92"],"names":["Page","App","module","exports","RecordDesc","RecordStatus","SHOW","HIDE","HOLD","SWIPE","RELEASE","allCtx","inUseCtx","allComm","proxier","ctx","__play__","play","__pause__","pause","playProxier","pauseProxier","call","getCtx","mid","returnCtx","wx","createInnerAudioContext","getAllCtx","setStorageSync","JSON","stringify","Object","keys","getCommponet","comm","curComm","PLAYING","PAUSE","STOP"],"mappings":"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,wBAAwB;AAC1C,eAAe;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,mBAAmB;AACnB;AACA,kCAAkC;AAClC,mBAAmB;AACnB;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,wBAAwB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAAs4B,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqB15B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0G;AACA;AACA,uBADA;AAEA;AACA;AACA,kBADA;AAEA,eAFA,EADA;;AAKA;AACA,kBADA;AAEA,yCAFA,EALA,EAFA;;;AAYA,MAZA,kBAYA;AACA;AACA,0BADA;AAEA,qCAFA;AAGA,gCAHA;AAIA,4BAJA,EAIA;AACA,6BALA;AAMA,+CANA;AAOA,0BAPA;;AASA,GAtBA;AAuBA;AACA,uBADA,+BACA,CADA,EACA;AACA;AACA,KAHA;;AAKA,qBALA,+BAKA;AACA;AACA;;AAEA,KATA;;AAWA,uBAXA,+BAWA,CAXA,EAWA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5BA;;AA8BA,mBA9BA,2BA8BA,CA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,EAIA,GAJA;;AAMA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,qCAFA;;AAIA,mBALA,MAKA;AACA;AACA,oCADA;AAEA,kCA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AAkB;AACpD,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA,qBAAqB,mCAAmC,oBAAoB,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,2CAA2C;AAC3C,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA,sCAAsC,mBAAmB;AACzD,gCAAgC;AAChC,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,2CAA2C;AAC3C,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;ACvYA;AAAA;AAAA;AAAA;AAAo2B,CAAgB,i1BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqHx3B,4F;AACA;AACA;AACA;AACA,6BADA;AAEA,uBAFA;;;AAKA;AACA;AACA;AACA,mB;AACA;AACA,0CADA;AAEA,qBAFA;AAGA;AACA;AACA,kBADA;AAEA,eAFA,EADA,EAHA;;;AASA,MATA,kBASA;AACA;AACA,8BADA;AAEA,gBAFA;AAGA,iBAHA;AAIA,wBAJA;AAKA,sCALA;;AAOA,GAjBA;AAkBA;AACA,gBADA,0BACA;AACA;;AAEA,KAJA;;AAMA,eANA,yBAMA;AACA;AACA,KARA;;AAUA,SAVA,mBAUA;AACA;AACA,qBADA;;AAGA,KAdA;;AAgBA,gBAhBA,wBAgBA,KAhBA,EAgBA;AACA;AACA;AACA,mBADA,CACA;AADA;AAGA,KArBA;;AAuBA,iBAvBA,2BAuBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uDADA;AAEA,2DAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,KA3CA;;AA6CA,aA7CA,qBA6CA,aA7CA,EA6CA,IA7CA,EA6CA,UA7CA,EA6CA,UA7CA,EA6CA,KA7CA,EA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA,SAPA;AAQA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OANA,MAMA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OANA;;;AASA;AACA;AACA;AACA,uBADA;;;AAIA;AACA;AACA;AACA,KA5GA;AA6GA,cA7GA,sBA6GA,UA7GA,EA6GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BADA;;AAGA;AACA,OATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA,KAhIA,EAlBA;;;AAqJA;AACA,SAtJA,qBAsJA,EAtJA;AAuJA,UAvJA,sBAuJA;AACA;AACA;AACA;AACA,GA3JA;AA4JA,OA5JA,mBA4JA,EA5JA;AA6JA,UA7JA,sBA6JA;AACA;AACA,GA/JA;AAgKA,SAhKA,mBAgKA,KAhKA,EAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCADA;AAEA,8BAFA;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BADA;;AAGA;AACA,OATA;AAUA;AACA;AACA;AACA;AACA;AACA,KArBA;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA;;AAEA,KAvBA;;;AA0BA,GA7PA,E;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AAC6J;AAC7J,gBAAgB,+JAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC,cAAc,wBAAwB;AACtC,WAAW;AACX,KAAK;AACL;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAs4B,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;ACc15B;AACA;AACA;AACA;AACA;AACA;;AAEA,CAJA,MAIA;AACA;AACA;AACA;AACA,U;;AAEA;AACA,kBADA;AAEA;AACA;AACA,kBADA;AAEA,aAFA,EADA,EAFA;;;AAQA,MARA,kBAQA;AACA;AACA,4BADA;AAEA,gCAFA;AAGA,gBAHA;AAIA,eAJA;AAKA;AACA,sBADA,EALA;;;AASA,GAlBA;AAmBA;AACA,aADA,uBACA;AACA;AACA;AA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AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6BAA6B,SAAS,wBAAwB,EAAE;AAChE;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,wBAAwB;AACjC;AACA,6BAA6B,SAAS,wBAAwB,EAAE;AAChE;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,uBAAuB;AACvB,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAAs4B,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkE15B;AACA;AACA;AACA,qBADA;AAEA,sBAFA,G;;;AAKA;AACA,uBADA;AAEA,MAFA,kBAEA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,8BAHA;;AAKA,oBALA;AAMA,oBANA;AAOA,qBAPA;AAQA,yBARA,CAQA;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","file":"pages/chatroom/chatroom.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/chatroom/chatroom.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./chatroom.vue?vue&type=template&id=bb82ffb8&\"\nimport script from \"./chatroom.vue?vue&type=script&lang=js&\"\nexport * from \"./chatroom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatroom.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('bb82ffb8', component.options)\n    } else {\n      api.reload('bb82ffb8', component.options)\n    }\n    module.hot.accept(\"./chatroom.vue?vue&type=template&id=bb82ffb8&\", function () {\n      api.rerender('bb82ffb8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/pages/chatroom/chatroom.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatroom.vue?vue&type=template&id=bb82ffb8&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"chat\", {\n    attrs: {\n      id: \"chat\",\n      username: _vm.username,\n      chatType: \"singleChat\",\n      mpcomid: \"57d1514c-0\"\n    }\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatroom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatroom.vue?vue&type=script&lang=js&\"","<template>\n\t<chat\n\tid=\"chat\"\n\t:username=\"username\"\n\tchatType=\"singleChat\"></chat>\n</template>\n\n<script>\n\timport chat from '../../comps/chat/chat.vue'\n\tlet disp = require(\"../../utils/broadcast\");\n\texport default {\n\t\tcomponents: {chat},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tusername: {\n\t\t\t\t\tyour: \"\",\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// options = 系统传入的 url 参数\n\t\tonLoad(options){\n\t\t\tlet username = JSON.parse(options.username);\n\t\t\tthis.username = username;\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: username.sellerName\n\t\t\t});\n\t\t},\n\n\t\tonUnload(){\n\t\t\tdisp.fire(\"em.chatroom.leave\");\n\t\t},\n\n\t\tonPullDownRefresh: function () {\n\t\t\tuni.showNavigationBarLoading();\n\t\t\tthis.selectComponent('#chat').getMore()\n\t\t\t// 停止下拉动作\n\t\t\tuni.hideNavigationBarLoading();\n\t\t\tuni.stopPullDownRefresh();\n\t\t},\n\t}\n</script>\n\n<style>\n\tpage{\n\t\tbackground-color:#eeeeee;\n\t}\n</style>\n","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=f18ec478&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('f18ec478', component.options)\n    } else {\n      api.reload('f18ec478', component.options)\n    }\n    module.hot.accept(\"./chat.vue?vue&type=template&id=f18ec478&\", function () {\n      api.rerender('f18ec478', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/chat.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=f18ec478&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\n        \"view\",\n        { staticClass: \"main\", staticStyle: { \"background-color\": \"#eeeeee\" } },\n        [\n          _c(\"chat-suit-audio\", {\n            ref: \"audio\",\n            attrs: {\n              username: _vm.username,\n              chatType: _vm.chatType,\n              eventid: \"ddde1a0c-0\",\n              mpcomid: \"ddde1a0c-0\"\n            },\n            on: { newAudioMsg: _vm.saveSendMsg }\n          }),\n          _c(\"chat-msglist\", {\n            ref: \"msglist\",\n            attrs: {\n              username: _vm.username,\n              eventid: \"ddde1a0c-1\",\n              mpcomid: \"ddde1a0c-1\"\n            },\n            on: { msglistTap: _vm.normalScroll }\n          })\n        ],\n        1\n      ),\n      _c(\"chat-inputbar\", {\n        ref: \"inputbar\",\n        attrs: {\n          username: _vm.username,\n          chatType: _vm.chatType,\n          eventid: \"ddde1a0c-2\",\n          mpcomid: \"ddde1a0c-2\"\n        },\n        on: {\n          newTextMsg: _vm.saveSendMsg,\n          newImageMsg: _vm.saveSendMsg,\n          newLocationMsg: _vm.saveSendMsg,\n          newVideoMsg: _vm.saveSendMsg,\n          tapSendAudio: _vm.toggleRecordModal,\n          inputFocused: _vm.shortScroll,\n          inputBlured: _vm.normalScroll\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n<view class=\"main\" style='background-color:#eeeeee;'>\n\t<chat-suit-audio\n\t\tref=\"audio\"\n\t\t:username=\"username \"\n\t\t:chatType=\"chatType\"\n\t\t\n\t\t@newAudioMsg=\"saveSendMsg\"></chat-suit-audio>\n\n\t<chat-msglist\n\t\tref=\"msglist\"\n\t\t:username=\"username\"\n\t\t@msglistTap=\"normalScroll\"></chat-msglist>\n</view>\n\t<chat-inputbar\n\t\tref=\"inputbar\"\n\t\t:username=\"username\"\n\t\t:chatType=\"chatType\"\n\n\t\t@newTextMsg=\"saveSendMsg\"\n\t\t@newImageMsg=\"saveSendMsg\"\n\t\t@newLocationMsg=\"saveSendMsg\"\n\t\t@newVideoMsg=\"saveSendMsg\"\n\t\t@tapSendAudio=\"toggleRecordModal\"\n\n\t\t@inputFocused=\"shortScroll\"\n\t\t@inputBlured=\"normalScroll\"></chat-inputbar>\n\n</view>\n</template>\n<script>\n\t\n\timport ChatSuitAudio from './inputbar/suit/audio/audio.vue'\n\timport ChatMsglist from './msglist/msglist.vue'\n\timport ChatInputbar from './inputbar/inputbar.vue'\nlet msgStorage = require(\"./msgstorage\");\nlet msgType = require(\"./msgtype\");\n\nexport default {\n\tcomponents: {ChatSuitAudio,ChatMsglist,ChatInputbar},\n\tname: 'chat',\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {},\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata(){\n\t\treturn {\n\t\t\t__comps__: {\n\t\t\t\tmsglist: null,\n\t\t\t\tinputbar: null,\n\t\t\t\taudio: null,\n\t\t\t}\n\t\t}\n\t},\n\t// lifetimes\n\tcreated(){},\n\tattached(){},\n\tmounted(){\n\t\tthis.$data.__comps__.inputbar = this.$refs.inputbar;\n\t\tthis.$data.__comps__.msglist = this.$refs.msglist;\n\t\tthis.$data.__comps__.audio = this.$refs.audio;\n\t\t\n\t},\n\tmoved(){},\n\tdetached(){\n\t},\n\tmethods: {\n\t\ttoggleRecordModal(){\n\t\t\tthis.$data.__comps__.audio.toggleRecordModal();\n\t\t},\n\n\t\tnormalScroll(){\n\t\t\tthis.$data.__comps__.msglist.normalScroll();\n\t\t\tthis.$data.__comps__.inputbar.cancelEmoji();\n\t\t},\n\n\t\tshortScroll(){\n\t\t\tthis.$data.__comps__.msglist.shortScroll();\n\t\t},\n\n\t\tsaveSendMsg(evt){\n\t\t\tmsgStorage.saveMsg(evt.msg, evt.type);\n\t\t\tthis.$data.__comps__.inputbar.cancelEmoji();\n\t\t},\n\n\t\tgetMore(){\n\t\t\this.$data.__comps__.msglist.getHistoryMsg()\n\t\t},\n  \t},\n}\n\n\t\n</script>\n<style>\n\t.main {\n\twidth: 100%;\n\theight: 100%;\n}\n\n</style>","import { render, staticRenderFns } from \"./audio.vue?vue&type=template&id=26924065&\"\nimport script from \"./audio.vue?vue&type=script&lang=js&\"\nexport * from \"./audio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audio.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('26924065', component.options)\n    } else {\n      api.reload('26924065', component.options)\n    }\n    module.hot.accept(\"./audio.vue?vue&type=template&id=26924065&\", function () {\n      api.rerender('26924065', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/inputbar/suit/audio/audio.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=template&id=26924065&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.recordStatus != _vm.RecordStatus.HIDE\n    ? _c(\n        \"view\",\n        {\n          staticClass: \"modal modal-record\",\n          attrs: { eventid: \"6c2ab73f-2\" },\n          on: { tap: _vm.toggleRecordModal }\n        },\n        [\n          _c(\n            \"view\",\n            {\n              staticClass: \"modal-body\",\n              attrs: { eventid: \"6c2ab73f-1\" },\n              on: { tap: _vm.toggleWithoutAction }\n            },\n            [\n              _c(\n                \"view\",\n                { staticClass: \"sound-waves\" },\n                [\n                  _vm._l(_vm.radomheight, function(item, index) {\n                    return _c(\"view\", {\n                      key: index,\n                      style: {\n                        height: item + \"rpx\",\n                        marginTop: \"-\" + item / 2 + \"rpx\"\n                      }\n                    })\n                  }),\n                  _c(\"view\", {\n                    staticStyle: { clear: \"both\", width: \"0\", height: \"0\" }\n                  })\n                ],\n                2\n              ),\n              _c(\"text\", { staticClass: \"desc\" }, [\n                _vm._v(_vm._s(_vm.RecordDesc[_vm.recordStatus]))\n              ]),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"dot\",\n                  attrs: { eventid: \"6c2ab73f-0\" },\n                  on: {\n                    touchstart: _vm.handleRecording,\n                    touchmove: _vm.handleRecordingMove,\n                    touchend: _vm.handleRecordingCancel,\n                    touchcancel: _vm.handleRecordingCancel\n                  }\n                },\n                [\n                  _c(\"image\", {\n                    staticClass: \"icon-mic\",\n                    attrs: { src: \"/static/images/send.png\" }\n                  })\n                ]\n              )\n            ],\n            1\n          )\n        ]\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"","<template>\n<view v-if=\"recordStatus != RecordStatus.HIDE\" class=\"modal modal-record\" @tap=\"toggleRecordModal\">\n\t<view class=\"modal-body\" @tap=\"toggleWithoutAction\">\n\n\t\t<view class='sound-waves'>\n\t\t  \t<view v-for=\"(item,index) in radomheight\" :key=\"index\" v-bind:style=\"{height:item+'rpx',marginTop:'-'+item/2+'rpx'}\"></view>\n\t\t  \t<view style='clear:both;width:0;height:0;'></view>\n\t\t</view>\n\t\t<text class=\"desc\">{{ RecordDesc[recordStatus] }}</text>\n\t\t<button\n\t\t\tclass=\"dot\"\n\t\t\t@touchstart=\"handleRecording\"\n\t\t\t@touchmove=\"handleRecordingMove\"\n\t\t\t@touchend=\"handleRecordingCancel\"\n\t\t\t@touchcancel=\"handleRecordingCancel\">\n\t\t\t<image class=\"icon-mic\" src=\"/static/images/send.png\"/>\n\t\t</button>\n\t</view>\n</view>\n</template>\n<script>\nlet WebIM = require(\"../../../../../utils/WebIM\")[\"default\"];\nlet msgType = require(\"../../../msgtype\");\nlet RECORD_CONST = require(\"./record_status\");\nlet RecordStatus = RECORD_CONST.RecordStatus;\nlet RecordDesc = RECORD_CONST.RecordDesc;\nlet disp = require(\"../../../../../utils/broadcast\");\nlet RunAnimation = false\nconst InitHeight = [50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50]\nexport default {\n\tname: 'ChatSuitAudio',\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {},\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchangedTouches: null,\n\t\t\trecordStatus: RecordStatus.HIDE,\n\t\t\tRecordStatus,\n\t\t\tRecordDesc,\t\t// 模板中有引用\n\t\t\tradomheight: InitHeight,\n\t\t\trecorderManager: uni.getRecorderManager(),\n\t\t\trecordClicked: false\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggleWithoutAction(e){\n\t\t\t// 阻止 tap 冒泡\n\t\t},\n\n\t\ttoggleRecordModal(){\n\t\t\tthis.recordStatus=this.recordStatus == RecordStatus.HIDE ? RecordStatus.SHOW : RecordStatus.HIDE;\n\t\t\tthis.radomheight=InitHeight;\n\t\t\t\n\t\t},\n\n\t\thandleRecordingMove(e){\n\t\t\tvar touches = e.touches[0];\n\t\t\tvar changedTouches = this.changedTouches;\n\t\t\tif(!changedTouches){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(this.recordStatus == RecordStatus.SWIPE){\n\t\t\t\tif(changedTouches.pageY - touches.pageY < 20){\n\t\t\t\t\tthis.recordStatus= RecordStatus.HOLD;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this.recordStatus == RecordStatus.HOLD){\n\t\t\t\tif(changedTouches.pageY - touches.pageY > 20){\n\t\t\t\t\tthis.recordStatus= RecordStatus.SWIPE;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thandleRecording(e){\n\t\t\tlet me = this;\n\t\t    me.recordClicked= true;\n\t\t    setTimeout(() => {\n\t\t      \tif (me.recordClicked == true) {\n\t\t        \texecuteRecord()\n\t\t      \t}\n\t\t    }, 350)\n\t\t\t\n\t\t    function executeRecord(){\n\t\t\t\t//#ifdef H5\n\t\t\t\tstartRecord();\n\t\t\t\t//#endif\n\t\t\t\t//#ifndef H5\n\t\t\t    wx.getSetting({\n\t\t\t      \tsuccess: (res) => {\n\t\t\t\t        let recordAuth = res.authSetting['scope.record']\n\t\t\t\t        if (recordAuth == false) { //已申请过授权，但是用户拒绝\n\t\t\t\t          \twx.openSetting({\n\t\t\t\t\t            success: function (res) {\n\t\t\t\t\t              let recordAuth = res.authSetting['scope.record']\n\t\t\t\t\t              if (recordAuth == true) {\n\t\t\t\t\t                wx.showToast({\n\t\t\t\t\t\t\t        \ttitle: \"授权成功\",\n\t\t\t\t\t\t\t        \ticon: \"success\"\n\t\t\t\t\t\t\t        })\n\t\t\t\t\t              } else {\n\t\t\t\t\t                wx.showToast({\n\t\t\t\t\t\t\t        \ttitle: \"请授权录音\",\n\t\t\t\t\t\t\t        \ticon: \"none\"\n\t\t\t\t\t\t\t        })\n\t\t\t\t\t              }\n\t\t\t\t\t              me.setData({\n\t\t\t\t\t                isLongPress: false\n\t\t\t\t\t              })\n\t\t\t\t\t            }\n\t\t\t\t          \t})\n\t\t\t\t        } else if (recordAuth == true) { // 用户已经同意授权\n\t\t\t\t          \tstartRecord()\n\t\t\t\t        } else { // 第一次进来，未发起授权\n\t\t\t\t\t        wx.authorize({\n\t\t\t\t\t            scope: 'scope.record',\n\t\t\t\t\t            success: () => {//授权成功\n\t\t\t\t\t              \twx.showToast({\n\t\t\t\t\t\t\t        \ttitle: \"授权成功\",\n\t\t\t\t\t\t\t        \ticon: \"success\"\n\t\t\t\t\t\t\t        })\n\t\t\t\t\t            }\n\t\t\t\t\t        })\n\t\t\t\t        }\n\t\t\t\t    },\n\t\t\t\t    fail: function () {\n\t\t\t\t        wx.showToast({\n\t\t\t\t        \ttitle: \"鉴权失败，请重试\",\n\t\t\t\t        \ticon: \"none\"\n\t\t\t\t        })\n\t\t\t      \t}\n\t\t\t    })\n\t\t\t\t//#endif\n\t\t    }\n\n\t\t\tfunction startRecord(){\n\t\t\t\tme.changedTouches = e.touches[0];\n\t\t\t\tme.recordStatus=RecordStatus.HOLD;\n\t\t\t\t\n\t\t\t\tRunAnimation = true;\n\t\t\t\tme.myradom();\n\n\t\t\t\tlet recorderManager = me.recorderManager || uni.getRecorderManager();\n\t\t\t\trecorderManager.onStart(() => {\n\t\t\t\t\t// console.log(\"开始录音...\");\n\t\t\t\t});\n\t\t\t\trecorderManager.start({\n\t\t\t\t\tformat: \"mp3\"\n\t\t\t\t});\n\t\t\t\t// 超时\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tme.handleRecordingCancel();\n\t\t\t\t\tRunAnimation = false\n\t\t\t\t}, 100000);\n\t\t\t}\n\t\t},\n\n\t\thandleRecordingCancel(){\n\t\t\tRunAnimation = false\n\t\t\tlet recorderManager = this.recorderManager;\n\t\t\t// 向上滑动状态停止：取消录音发放\n\t\t\tif(this.recordStatus == RecordStatus.SWIPE){\n\t\t\t\tthis.recordStatus= RecordStatus.RELEASE;\n\t\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.recordStatus=RecordStatus.HIDE;\n\t\t\t\tthis.recordClicked=false;\n\t\t\t\t\n\t\t\t}\n\n\t\t\trecorderManager.onStop((res) => {\n\t\t\t\t// console.log(\"结束录音...\", res);\n\t\t\t\tif(this.recordStatus == RecordStatus.RELEASE){\n\t\t\t\t\tconsole.log(\"user canceled\");\n\t\t\t\t\tthis.recordStatus= RecordStatus.HIDE;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (res.duration < 1000) {\n\t\t\t        uni.showToast({\n\t\t\t        \ttitle: \"录音时间太短\",\n\t\t\t        \ticon: \"none\"\n\t\t\t        })\n\t\t\t    } else {\n\t\t\t        // 上传\n\t\t\t\t\tthis.uploadRecord(res.tempFilePath, res.duration);\n\t\t\t    }\n\t\t\t});\n\t\t\t// 停止录音\n\t\t\trecorderManager.stop();\n\t\t},\n\n\t\tisGroupChat(){\n\t\t\treturn this.chatType == msgType.chatType.CHAT_ROOM;\n\t\t},\n\n\t\tgetSendToParam(){\n\t\t\treturn this.isGroupChat() ? this.username.groupId : this.username.your;\n\t\t},\n\n\t\tuploadRecord(tempFilePath, dur){\n\t\t\tvar str = WebIM.config.appkey.split(\"#\");\n\t\t\tvar me = this;\n\t\t\tvar token = WebIM.conn.context.accessToken\n\t\t\tuni.uploadFile({\n\t\t\t\turl: \"https://a1.easemob.com/\" + str[0] + \"/\" + str[1] + \"/chatfiles\",\n\t\t\t\tfilePath: tempFilePath,\n\t\t\t\tname: \"file\",\n\t\t\t\theader: {\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t\tsuccess(res){\n\t\t\t\t\t// 发送 xmpp 消息\n\t\t\t\t\tvar id = WebIM.conn.getUniqueId();\n\t\t\t\t\tvar msg = new WebIM.message(msgType.AUDIO, id);\n\t\t\t\t\tvar dataObj = JSON.parse(res.data);\n\t\t\t\t\t// 接收消息对象\n\t\t\t\t\tmsg.set({\n\t\t\t\t\t\tapiUrl: WebIM.config.apiURL,\n\t\t\t\t\t\taccessToken: token,\n\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\ttype: msgType.AUDIO,\n\t\t\t\t\t\t\turl: dataObj.uri + \"/\" + dataObj.entities[0].uuid,\n\t\t\t\t\t\t\tfiletype: \"\",\n\t\t\t\t\t\t\tfilename: tempFilePath,\n\t\t\t\t\t\t\taccessToken: token,\n\t\t\t\t\t\t\tlength: Math.ceil(dur / 1000)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfrom: me.username.myName,\n\t\t\t\t\t\tto: me.getSendToParam(),\n\t\t\t\t\t\troomType: false,\n\t\t\t\t\t\tchatType: me.chatType,\n\t\t\t\t\t\tsuccess: function (argument) {\n\t\t\t\t\t\t\tdisp.fire('em.chat.sendSuccess', id);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(me.isGroupChat()){\n\t\t\t\t\t\tmsg.setGroup(\"groupchat\");\n\t\t\t\t\t}\n\t\t\t\t\tmsg.body.length = Math.ceil(dur / 1000);\n\t\t\t\t\t//console.log('发送的语音消息', msg.body)\n\t\t\t\t\tWebIM.conn.send(msg.body);\n\n\t\t\t\t\tme.$emit(\n\t\t\t\t\t\t\"newAudioMsg\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmsg: msg,\n\t\t\t\t\t\t\ttype: msgType.AUDIO,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\tcomposed: true\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tmyradom(){\n\t\t    const that = this;\n\t\t    var _radomheight = that.radomheight;\n\t\t    for (var i = 0; i < that.radomheight.length; i++) {\n\t\t      //+1是为了避免为0\n\t\t     _radomheight[i] = (100 * Math.random().toFixed(2))+10;\n\t\t    }\n\t\t    that.radomheight=_radomheight;\n\t\t    if (RunAnimation) {\n\t\t    \tsetTimeout(function () {that.myradom(); }, 500);\n\t\t    }else{\n\t\t    \treturn\n\t\t    }\n\t  \t}\n\t},\n\n\t// lifetimes\n\tcreated(){},\n\tattached(){},\n\tmoved(){},\n\tdetached(){},\n\tready(){},\n}\n\n</script>\n<style>\n\t.modal {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tleft: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 999;\n\t/*display: flex;\n\tjustify-content: center;\n\talign-items: center;*/\n}\n\n.modal-record .modal-body {\n\twidth: 480rpx;\n\theight: 440rpx;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 3px;\n\tbox-shadow: 0 0 32rpx rgba(0, 0, 0, 0.15);\n\tposition: fixed;\n\tbottom: 480rpx;\n\tleft: 50%;\n\tmargin-left: -240rpx;\n}\n\n.modal-record .desc {\n\tcolor: rgb(112, 126, 137);\n\tfont-size: 13px;\n\tmargin-bottom: 40rpx;\n\tdisplay: block;\n\theight: 30rpx;\n\twidth: 100%;\n\ttext-align: center;\n}\n\n.modal-record .dot {\n\twidth: 128rpx;\n\theight: 128rpx;\n\tborder-radius: 50%;\n\tbackground-color: #0873DE;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.dot image {\n\twidth: 44rpx;\n\theight: 64rpx;\n}\n\n.sound-waves {\n  width: 100%;\n  box-sizing: border-box;\n  padding-left:10%;\n  margin-top: 80rpx;\n  height: 80rpx;\n  text-align: center;\n}\n \n.sound-waves view {\n  transition: all 0.5s;\n  width: 1%;\n  margin-left: 1.5%;\n  margin-right: 1.5%;\n  height: 160rpx;\n  background-color: #aaa;\n  float: left;\n}\n\n</style>","module.exports = {\n\tRecordDesc: {\n\t\t0: \"长按开始录音\",\n\t\t2: \"向上滑动取消\",\n\t\t3: \"松开手取消\",\n\t},\n\tRecordStatus: {\n\t\tSHOW: 0,\n\t\tHIDE: 1,\n\t\tHOLD: 2,\n\t\tSWIPE: 3,\n\t\tRELEASE: 4\n\t}\n};\n","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./msglist.vue?vue&type=template&id=0a955ff3&\"\nimport script from \"./msglist.vue?vue&type=script&lang=js&\"\nexport * from \"./msglist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./msglist.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0a955ff3', component.options)\n    } else {\n      api.reload('0a955ff3', component.options)\n    }\n    module.hot.accept(\"./msglist.vue?vue&type=template&id=0a955ff3&\", function () {\n      api.rerender('0a955ff3', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/msglist/msglist.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msglist.vue?vue&type=template&id=0a955ff3&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {\n      class: _vm.view + \" wrap \" + (_vm.isIPX ? \"scroll_view_X\" : \"\"),\n      staticStyle: { \"background-color\": \"#eeeeee\" },\n      attrs: {\n        \"scroll-y\": \"true\",\n        bindscroll: \"scrollmore\",\n        bindscrolltoupper: \"refresh\",\n        \"upper-threshold\": \"-50\",\n        \"scroll-into-view\": \"toView\",\n        eventid: \"f0b51766-2\"\n      },\n      on: { tap: _vm.onTap }\n    },\n    _vm._l(_vm.chatMsg, function(item, index) {\n      return _c(\n        \"view\",\n        {\n          key: item.mid,\n          staticClass: \"message\",\n          staticStyle: { width: \"100%\", \"margin-top\": \"30rpx\" },\n          attrs: { id: item.mid }\n        },\n        [\n          item.info.to != _vm.username.your\n            ? _c(\n                \"view\",\n                {\n                  staticStyle: {\n                    display: \"flex\",\n                    \"justify-content\": \"flex-start\",\n                    \"flex-wrap\": \"wrap\"\n                  }\n                },\n                [\n                  item.showTime == true\n                    ? _c(\n                        \"view\",\n                        {\n                          staticClass: \"user\",\n                          staticStyle: {\n                            display: \"flex\",\n                            flex: \"0 0 100%\",\n                            \"text-align\": \"center\",\n                            \"justify-content\": \"center\",\n                            \"margin-botton\": \"20rpx\",\n                            bottom: \"0\"\n                          }\n                        },\n                        [\n                          _c(\n                            \"text\",\n                            {\n                              staticClass: \"user-text\",\n                              staticStyle: {\n                                padding: \"6rpx 20rpx\",\n                                color: \"white\",\n                                \"background-color\": \"#bbbbbb\",\n                                \"border-radius\": \"10rpx\"\n                              }\n                            },\n                            [_vm._v(_vm._s(item.time))]\n                          )\n                        ]\n                      )\n                    : _vm._e(),\n                  _c(\"image\", {\n                    staticClass: \"avatar\",\n                    staticStyle: { float: \"normal\" },\n                    attrs: { src: _vm.username.sellerHead }\n                  }),\n                  _c(\n                    \"view\",\n                    { staticClass: \"msg\", staticStyle: { \"margin-top\": \"0\" } },\n                    [\n                      _c(\"image\", {\n                        class: [\n                          \"err\",\n                          item.style == \"self\" && item.isFail ? \"show\" : \"hide\"\n                        ],\n                        attrs: { src: \"/static/images/msgerr.png\" }\n                      }),\n                      item.style == \"self\"\n                        ? _c(\"image\", {\n                            staticClass: \"msg_poprightarrow\",\n                            attrs: {\n                              src: \"/static/images/poprightarrow@2x.png\"\n                            }\n                          })\n                        : _vm._e(),\n                      item.style == \"\"\n                        ? _c(\"image\", {\n                            staticClass: \"msg_popleftarrow\",\n                            attrs: { src: \"/static/images/popleftarrow@2x.png\" }\n                          })\n                        : _vm._e(),\n                      item.msg.type == \"img\" || item.msg.type == \"video\"\n                        ? _c(\n                            \"view\",\n                            [\n                              item.msg.type == \"img\"\n                                ? _c(\"block\", [\n                                    _c(\"image\", {\n                                      staticClass: \"avatar\",\n                                      staticStyle: {\n                                        width: \"90px\",\n                                        height: \"120px\",\n                                        margin: \"2px auto\"\n                                      },\n                                      attrs: {\n                                        src: item.msg.data,\n                                        mode: \"aspectFit\",\n                                        \"data-url\": item.msg.data,\n                                        eventid: \"f0b51766-0-\" + index\n                                      },\n                                      on: { tap: _vm.previewImage }\n                                    })\n                                  ])\n                                : _vm._e(),\n                              item.msg.type == \"video\"\n                                ? _c(\"block\", [\n                                    _c(\"video\", {\n                                      attrs: {\n                                        src: item.msg.data,\n                                        controls: \"\",\n                                        autoplay: \"\"\n                                      }\n                                    })\n                                  ])\n                                : _vm._e()\n                            ],\n                            1\n                          )\n                        : _vm._e(),\n                      item.msg.type == \"audio\"\n                        ? _c(\"audio-msg\", {\n                            attrs: { msg: item, mpcomid: \"f0b51766-0-\" + index }\n                          })\n                        : item.msg.type == \"txt\" || item.msg.type == \"emoji\"\n                        ? _c(\n                            \"view\",\n                            _vm._l(item.msg.data, function(a, i) {\n                              return _c(\n                                \"view\",\n                                { key: i, staticClass: \"template\" },\n                                [\n                                  a.type == \"txt\"\n                                    ? _c(\"block\", [\n                                        _c(\n                                          \"text\",\n                                          {\n                                            staticClass: \"msg-text\",\n                                            staticStyle: { float: \"left\" }\n                                          },\n                                          [_vm._v(_vm._s(a.data))]\n                                        )\n                                      ])\n                                    : _vm._e(),\n                                  a.type == \"emoji\"\n                                    ? _c(\"block\", [\n                                        _c(\"image\", {\n                                          staticClass: \"avatar\",\n                                          staticStyle: {\n                                            width: \"25px\",\n                                            height: \"25px\",\n                                            margin: \"0 0 2px 0\",\n                                            float: \"left\"\n                                          },\n                                          attrs: {\n                                            src:\n                                              \"/static/images/faces/\" + a.data\n                                          }\n                                        })\n                                      ])\n                                    : _vm._e(),\n                                  a.type == \"audio\"\n                                    ? _c(\n                                        \"block\",\n                                        [\n                                          _c(\"audio\", {\n                                            attrs: {\n                                              src: a.url,\n                                              controls: \"\",\n                                              autoplay: \"\"\n                                            }\n                                          })\n                                        ],\n                                        1\n                                      )\n                                    : _vm._e()\n                                ],\n                                1\n                              )\n                            })\n                          )\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]\n              )\n            : _c(\n                \"view\",\n                {\n                  staticClass: \"main\",\n                  class: item.style,\n                  staticStyle: {\n                    display: \"flex\",\n                    \"flex-direction\": \"row-reverse\",\n                    \"justify-content\": \"flex-start\",\n                    \"flex-wrap\": \"wrap\"\n                  }\n                },\n                [\n                  item.showTime == true\n                    ? _c(\n                        \"view\",\n                        {\n                          staticClass: \"user\",\n                          staticStyle: {\n                            display: \"flex\",\n                            flex: \"0 0 100%\",\n                            \"text-align\": \"center\",\n                            \"justify-content\": \"center\",\n                            \"margin-botton\": \"20rpx\",\n                            bottom: \"0\"\n                          }\n                        },\n                        [\n                          _c(\n                            \"text\",\n                            {\n                              staticClass: \"user-text\",\n                              staticStyle: {\n                                padding: \"6rpx 20rpx\",\n                                color: \"white\",\n                                \"background-color\": \"#bbbbbb\",\n                                \"border-radius\": \"10rpx\"\n                              }\n                            },\n                            [_vm._v(_vm._s(item.time))]\n                          )\n                        ]\n                      )\n                    : _vm._e(),\n                  _c(\"image\", {\n                    staticClass: \"avatar\",\n                    staticStyle: {\n                      \"margin-left\": \"20rpx\",\n                      \"margin-right\": \"0\"\n                    },\n                    attrs: { src: _vm.username.me.head_img }\n                  }),\n                  _c(\n                    \"view\",\n                    {\n                      staticClass: \"msg\",\n                      staticStyle: {\n                        \"background-color\": \"#e3c77f\",\n                        \"margin-top\": \"0\"\n                      }\n                    },\n                    [\n                      _c(\"image\", {\n                        class: [\n                          \"err\",\n                          item.style == \"self\" && item.isFail ? \"show\" : \"hide\"\n                        ],\n                        attrs: { src: \"/static/images/msgerr.png\" }\n                      }),\n                      _c(\"image\", {\n                        staticClass: \"msg_poprightarrow\",\n                        staticStyle: { position: \"flex\" },\n                        attrs: { src: \"/static/images/poprightarrow@2x.png\" }\n                      }),\n                      item.msg.type == \"img\" || item.msg.type == \"video\"\n                        ? _c(\n                            \"view\",\n                            [\n                              item.msg.type == \"img\"\n                                ? _c(\"block\", [\n                                    _c(\"image\", {\n                                      staticClass: \"avatar\",\n                                      staticStyle: {\n                                        width: \"90px\",\n                                        height: \"120px\",\n                                        margin: \"2px auto\"\n                                      },\n                                      attrs: {\n                                        src: item.msg.data,\n                                        mode: \"aspectFit\",\n                                        \"data-url\": item.msg.data,\n                                        eventid: \"f0b51766-1-\" + index\n                                      },\n                                      on: { tap: _vm.previewImage }\n                                    })\n                                  ])\n                                : _vm._e(),\n                              item.msg.type == \"video\"\n                                ? _c(\"block\", [\n                                    _c(\"video\", {\n                                      attrs: {\n                                        src: item.msg.data,\n                                        controls: \"\",\n                                        autoplay: \"\"\n                                      }\n                                    })\n                                  ])\n                                : _vm._e()\n                            ],\n                            1\n                          )\n                        : _vm._e(),\n                      item.msg.type == \"audio\"\n                        ? _c(\"audio-msg\", {\n                            attrs: { msg: item, mpcomid: \"f0b51766-1-\" + index }\n                          })\n                        : item.msg.type == \"txt\" || item.msg.type == \"emoji\"\n                        ? _c(\n                            \"view\",\n                            _vm._l(item.msg.data, function(a, i) {\n                              return _c(\n                                \"view\",\n                                { key: i, staticClass: \"template\" },\n                                [\n                                  a.type == \"txt\"\n                                    ? _c(\"block\", [\n                                        _c(\n                                          \"text\",\n                                          {\n                                            staticClass: \"msg-text\",\n                                            staticStyle: { float: \"left\" }\n                                          },\n                                          [_vm._v(_vm._s(a.data))]\n                                        )\n                                      ])\n                                    : _vm._e(),\n                                  a.type == \"emoji\"\n                                    ? _c(\"block\", [\n                                        _c(\"image\", {\n                                          staticClass: \"avatar\",\n                                          staticStyle: {\n                                            width: \"25px\",\n                                            height: \"25px\",\n                                            margin: \"0 0 2px 0\",\n                                            float: \"left\"\n                                          },\n                                          attrs: {\n                                            src:\n                                              \"/static/images/faces/\" + a.data\n                                          }\n                                        })\n                                      ])\n                                    : _vm._e(),\n                                  a.type == \"audio\"\n                                    ? _c(\n                                        \"block\",\n                                        [\n                                          _c(\"audio\", {\n                                            attrs: {\n                                              src: a.url,\n                                              controls: \"\",\n                                              autoplay: \"\"\n                                            }\n                                          })\n                                        ],\n                                        1\n                                      )\n                                    : _vm._e()\n                                ],\n                                1\n                              )\n                            })\n                          )\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                ]\n              )\n        ]\n      )\n    })\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msglist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msglist.vue?vue&type=script&lang=js&\"","\r\n\r\n\r\n\t<template name=\"txt\">\r\n\t\t<text class=\"msg-text\" style=\"float:left;\">{{ item.data }}</text>\r\n\t</template>\r\n\t<template name=\"emoji\">\r\n\t\t<image class=\"avatar\" :src=\" '/static/images/faces/' + item.data \" style=\"width:25px; height:25px; margin:0 0 2px 0; float:left;\" />\r\n\t</template>\r\n\t<template name=\"img\">\r\n\t\t<image class=\"avatar\" :src=\" item.msg.data \" style=\"width:90px; height:120px; margin:2px auto;\" mode=\"aspectFit\" @tap=\"previewImage\"\r\n\t\t :data-url=\"item.msg.data\" />\r\n\t</template>\r\n\t<template name=\"video\">\r\n\t\t<video :src=\" item.msg.data \" controls autoplay />\r\n\t</template>\r\n\t<template name=\"audio\">\r\n\t\t<audio :src=\" item.msg.url \" controls autoplay />\r\n\t</template>\r\n\r\n<template>\r\n\t<!-- view 换成 scroll-view效果更好 用view是为了要stopPullDownRefresh -->\r\n\t<view scroll-y=\"true\" :class=\"view + ' wrap '+ (isIPX?'scroll_view_X': '')\" @tap=\"onTap\" bindscroll=\"scrollmore\"\r\n\t bindscrolltoupper=\"refresh\" upper-threshold='-50' scroll-into-view=\"toView\" style='background-color:#eeeeee;'>\r\n\t\t<view class=\"message\" style=\"width:100%;margin-top:30rpx;\" v-for=\"(item,index) in chatMsg\" :key=\"item.mid\" :id=\"item.mid\">\r\n\t\t\t<!-- <view class=\"time\">\r\n\t\t\t<text class=\"time-text\">{{ item.time }}</text>\r\n\t\t</view> -->\r\n\t\t\t<view v-if=\"item.info.to != username.your\" style=\"display:flex;justify-content:flex-start;flex-wrap:wrap;\">\r\n\t\t\t\t<view v-if=\"item.showTime==true\" class=\"user\" style=\"display:flex;flex:0 0 100%;text-align:center;justify-content:center;margin-botton:20rpx;bottom:0;\">\r\n\t\t\t\t\t<!-- yourname：就是消息的 from -->\r\n\t\t\t\t\t<text style='padding:6rpx 20rpx;color:white;background-color:#bbbbbb;border-radius:10rpx;' class=\"user-text\">{{item.time}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<image style='float:normal;' class=\"avatar\" :src=\"username.sellerHead\" />\r\n\t\t\t\t<view class=\"msg\" style=\"margin-top:0;\">\r\n\t\t\t\t\t<image v-bind:class=\"['err',(item.style == 'self' && item.isFail) ? 'show' : 'hide']\" src=\"/static/images/msgerr.png\" />\r\n\r\n\t\t\t\t\t<image v-if=\"item.style == 'self'\" src=\"/static/images/poprightarrow@2x.png\" class=\"msg_poprightarrow\" />\r\n\t\t\t\t\t<image v-if=\"item.style == ''\" src=\"/static/images/popleftarrow@2x.png\" class=\"msg_popleftarrow\" />\r\n\t\t\t\t\t<view v-if=\" item.msg.type == 'img' || item.msg.type == 'video' \">\r\n\t\t\t\t\t\t<block v-if=\"item.msg.type=='img'\" >\n\t\t\t\t\t\t\t\t<image class=\"avatar\" :src=\"item.msg.data \" style=\"width:90px; height:120px; margin:2px auto;\" mode=\"aspectFit\" @tap=\"previewImage\"\n\t\t\t\t\t\t\t\t :data-url=\"item.msg.data\" />\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-if=\"item.msg.type=='video'\" >\n\t\t\t\t\t\t\t\t<video :src=\"item.msg.data \" controls autoplay />\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<audio-msg v-if=\" item.msg.type == 'audio' \" :msg=\" item \"></audio-msg>\r\n\t\t\t\t\t<view v-else-if=\" item.msg.type == 'txt' || item.msg.type == 'emoji' \">\r\n\t\t\t\t\t\t<view class=\"template\" v-for=\"(a,i) in item.msg.data \" :key=\"i\">\r\n\t\t\t\t\t\t\t<block v-if=\"a.type=='txt'\">\n\t\t\t\t\t\t\t\t<text class=\"msg-text\" style=\"float:left;\">{{ a.data }}</text>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-if=\"a.type=='emoji'\">\n\t\t\t\t\t\t\t\t<image class=\"avatar\" :src=\" '/static/images/faces/' + a.data \" style=\"width:25px; height:25px; margin:0 0 2px 0; float:left;\" />\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<block v-if=\"a.type=='audio'\" >\n\t\t\t\t\t\t\t\t<audio :src=\"a.url \" controls autoplay />\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<view v-else=\"\" class=\"main\" :class=\" item.style \" style=\"display:flex;flex-direction:row-reverse;justify-content:flex-start;flex-wrap:wrap;\">\r\n\t\t\t\t<view v-if=\"item.showTime==true\" class=\"user\" style=\"display:flex;flex:0 0 100%;text-align:center;justify-content:center;margin-botton:20rpx;bottom:0;\">\r\n\t\t\t\t\t<!-- yourname：就是消息的 from -->\r\n\t\t\t\t\t<text style='padding:6rpx 20rpx;color:white;background-color:#bbbbbb;border-radius:10rpx;' class=\"user-text\">{{item.time}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<image style='margin-left:20rpx;margin-right:0;' class=\"avatar\" :src=\"username.me.head_img\" />\r\n\t\t\t\t<view class=\"msg\" style='background-color:#e3c77f;margin-top:0;'>\r\n\t\t\t\t\t<image v-bind:class=\"['err',(item.style == 'self' && item.isFail) ? 'show' : 'hide']\" src=\"/static/images/msgerr.png\" />\r\n\r\n\t\t\t\t\t<image style='position:flex;' src=\"/static/images/poprightarrow@2x.png\" class=\"msg_poprightarrow\" />\r\n\r\n\t\t\t\t\t<view v-if=\" item.msg.type == 'img' || item.msg.type == 'video' \">\r\n\t\t\t\t\t\t<block v-if=\"item.msg.type=='img'\" >\n\t\t\t\t\t\t\t\t<image class=\"avatar\" :src=\"item.msg.data \" style=\"width:90px; height:120px; margin:2px auto;\" mode=\"aspectFit\" @tap=\"previewImage\"\n\t\t\t\t\t\t\t\t :data-url=\"item.msg.data \" />\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-if=\"item.msg.type=='video'\" >\n\t\t\t\t\t\t\t\t<video :src=\"item.msg.data \" controls autoplay />\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<audio-msg v-if=\" item.msg.type == 'audio' \" :msg=\"item\"></audio-msg>\r\n\t\t\t\t\t<view v-else-if=\" item.msg.type == 'txt' || item.msg.type == 'emoji' \">\r\n\t\t\t\t\t\t<view class=\"template\" v-for=\"(a,i) in item.msg.data \" :key=\"i\">\r\n\t\t\t\t\t\t\t<block v-if=\"a.type=='txt'\">\n\t\t\t\t\t\t\t\t<text class=\"msg-text\" style=\"float:left;\">{{ a.data }}</text>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-if=\"a.type=='emoji'\">\n\t\t\t\t\t\t\t\t<image class=\"avatar\" :src=\" '/static/images/faces/' + a.data \" style=\"width:25px; height:25px; margin:0 0 2px 0; float:left;\" />\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<block v-if=\"a.type=='audio'\" >\n\t\t\t\t\t\t\t\t<audio :src=\"a.url \" controls autoplay />\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t</view>\r\n\r\n\r\n</template>\r\n\r\n<script>\n\timport AudioMsg from './type/audio/audio.vue'\r\n\tlet msgStorage = require(\"../msgstorage\");\r\n\tlet disp = require(\"../../../utils/broadcast\");\r\n\tlet LIST_STATUS = {\r\n\t\tSHORT: \"scroll_view_change\",\r\n\t\tNORMAL: \"scroll_view\"\r\n\t};\r\n\r\n\tlet page = 0;\r\n\tlet Index = 0;\r\n\tlet curMsgMid = ''\r\n\tlet isFail = false\n\texport default{\n\t\tcomponents: {AudioMsg},\r\n\t\tname:'ChatMsglist',\r\n\t\tprops: {\r\n\t\t\tusername: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tvalue: {},\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata(){\n\t\t\treturn {\r\n\t\t\t\tview: LIST_STATUS.NORMAL,\r\n\t\t\t\ttoView: \"\",\r\n\t\t\t\tchatMsg: [],\r\n\t\t\t\tvisibility__: true,\n\t\t\t\tisIPX: getApp().globalData.isIPX\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnormalScroll() {\r\n\t\t\t\tthis.view= LIST_STATUS.NORMAL;\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\tshortScroll() {\r\n\t\t\t\tthis.view=LIST_STATUS.SHORT;\r\n\t\t\t},\r\n\r\n\t\t\tonTap() {\r\n\t\t\t\tthis.$emit(\"msglistTap\", null, {\r\n\t\t\t\t\tbubbles: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tpreviewImage(event) {\r\n\t\t\t\tvar url = event.target.dataset.url;\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: [url] // 需要预览的图片 http 链接列表\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgetHistoryMsg() {\r\n\t\t\t\tlet me = this\r\n\t\t\t\tlet username = this.username;\r\n\t\t\t\tlet myUsername = uni.getStorageSync(\"myUsername\");\r\n\t\t\t\tlet sessionKey = username.groupId ? username.groupId + myUsername : username.your + myUsername;\r\n\t\t\t\tlet historyChatMsgs = uni.getStorageSync(\"rendered_\" + sessionKey) || [];\r\n\r\n\t\t\t\tif (Index < historyChatMsgs.length) {\r\n\t\t\t\t\tlet timesMsgList = historyChatMsgs.slice(-Index - 10, -Index)\r\n\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tchatMsg: timesMsgList.concat(me.data.chatMsg),\r\n\t\t\t\t\t\ttoView: timesMsgList[timesMsgList.length - 1].mid,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tIndex += timesMsgList.length;\r\n\t\t\t\t\tif (timesMsgList.length == 10) {\r\n\t\t\t\t\t\tpage++\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trenderMsg(renderableMsg, type, curChatMsg, sessionKey, isnew) {\r\n\t\t\t\tlet me = this\r\n\t\t\t\tif (curChatMsg.length > 1) {\r\n\t\t\t\t\tthis.chatMsg.map(function(elem, index) {\r\n\t\t\t\t\t\tcurChatMsg.map(function(item, i) {\r\n\t\t\t\t\t\t\tif (elem.mid == item.mid) {\r\n\t\t\t\t\t\t\t\t//me.data.chatMsg.splice(index, 1)\r\n\t\t\t\t\t\t\t\tcurChatMsg.splice(i, 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tvar historyChatMsgs = uni.getStorageSync(\"rendered_\" + sessionKey) || [];\r\n\t\t\t\t// if (curChatMsg.length) {\r\n\t\t\t\t// \tconsole.log(curMsgMid.substring(curMsgMid.length - 10) , curChatMsg[0].mid.substring(curChatMsg[0].mid.length - 10))\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// if(curChatMsg.length && curMsgMid.substring(curMsgMid.length - 10) == curChatMsg[curChatMsg.length - 1].mid.substring(curChatMsg[0].mid.length - 10)){\r\n\t\t\t\t// \t//curChatMsg[curChatMsg.length - 1].msg.data[0].isSuc = true\r\n\t\t\t\t// \tcurChatMsg[curChatMsg.length - 1].isSuc = true\r\n\t\t\t\t// }\r\n\t\t\t\thistoryChatMsgs = historyChatMsgs.concat(curChatMsg);\r\n\r\n\t\t\t\t//console.log('当前历史',renderableMsg)\r\n\t\t\t\t//console.log('历史消息', historyChatMsgs)\r\n\t\t\t\tif (!historyChatMsgs.length) return;\r\n\t\t\t\tif (isnew == 'newMsg') {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.chatMsg=this.chatMsg.concat(curChatMsg);\r\n\t\t\t\t\t\t// 跳到最后一条\r\n\t\t\t\t\tthis.toView=historyChatMsgs[historyChatMsgs.length - 1].mid;\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.chatMsg=historyChatMsgs.slice(-10);\r\n\t\t\t\t\t\t// 跳到最后一条\r\n\t\t\t\t\tthis.toView=historyChatMsgs[historyChatMsgs.length - 1].mid;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.setStorageSync(\"rendered_\" + sessionKey, historyChatMsgs);\r\n\r\n\t\t\t\tlet chatMsg = uni.getStorageSync(sessionKey) || [];\r\n\t\t\t\tchatMsg.map(function(item, index) {\r\n\t\t\t\t\tcurChatMsg.map(function(item2, index2) {\r\n\t\t\t\t\t\tif (item2.mid == item.mid) {\r\n\t\t\t\t\t\t\tchatMsg.splice(index, 1)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t\tuni.setStorageSync(sessionKey, chatMsg);\r\n\t\t\t\tIndex = historyChatMsgs.slice(-10).length;\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 9999,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (isFail) {\r\n\t\t\t\t\tthis.renderFail(sessionKey)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trenderFail(sessionKey) {\r\n\t\t\t\tlet me = this\r\n\t\t\t\tlet msgList = me.data.chatMsg\r\n\t\t\t\tmsgList.map((item) => {\r\n\t\t\t\t\tif (item.mid.substring(item.mid.length - 10) == curMsgMid.substring(curMsgMid.length - 10)) {\r\n\t\t\t\t\t\titem.msg.data[0].isFail = true\r\n\t\t\t\t\t\titem.isFail = true\r\n\r\n\t\t\t\t\t\tme.setData({\r\n\t\t\t\t\t\t\tchatMsg: msgList\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (me.curChatMsg[0].mid == curMsgMid) {\r\n\t\t\t\t\tme.curChatMsg[0].msg.data[0].isShow = false;\r\n\t\t\t\t\tme.curChatMsg[0].isShow = false\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"rendered_\" + sessionKey, msgList);\r\n\t\t\t\tisFail = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// lifetimes\r\n\t\tcreated() {},\r\n\t\tattached() {\r\n\t\t\tthis.$data.visibility__ = true;\r\n\t\t\tpage = 0;\r\n\t\t\tIndex = 0;\r\n\t\t},\r\n\t\tmoved() {},\r\n\t\tdetached() {\r\n\t\t\tthis.$data.visibility__ = true;\r\n\t\t},\r\n\t\tmounted(event) {\r\n\t\t\tlet me = this;\r\n\t\t\t// if (getApp().globalData.isIPX) {\r\n\t\t\t// \tthis.setData({\r\n\t\t\t// \t\tisIPX: true\r\n\t\t\t// \t})\r\n\t\t\t// }\r\n\t\t\tlet username = this.username;\r\n\t\t\tlet myUsername = uni.getStorageSync(\"myUsername\");\r\n\r\n\t\t\tlet sessionKey = username.groupId ?\r\n\t\t\t\tusername.groupId + myUsername :\r\n\t\t\t\tusername.your + myUsername;\r\n\r\n\t\t\tlet chatMsg = uni.getStorageSync(sessionKey) || [];\r\n\r\n\t\t\tthis.renderMsg(null, null, chatMsg, sessionKey);\r\n\t\t\tuni.setStorageSync(sessionKey, null);\r\n\t\t\t// disp.on(\"em.chat.sendSuccess\", function(mid){\r\n\t\t\t// \tcurMsgMid = mid\r\n\t\t\t// \tconsole.log('发送过去了', mid)\r\n\t\t\t// \tlet msgList = me.data.chatMsg\r\n\t\t\t// \tmsgList.map((item) =>{\r\n\t\t\t// \t\tif (item.mid.substring(item.mid.length - 10) == mid.substring(mid.length - 10)) {\r\n\r\n\t\t\t// \t\t\tconsole.log(111111, item)\r\n\r\n\t\t\t// \t\t\titem.msg.data[0].isSuc = true\r\n\t\t\t// \t\t\titem.isSuc = true\r\n\r\n\t\t\t// \t\t\tme.setData({\r\n\t\t\t// \t\t\t\tchatMsg: msgList\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t// \tif (me.curChatMsg[0].mid == curMsgMid) {\r\n\t\t\t// \t\tme.curChatMsg[0].msg.data[0].isShow = true\r\n\t\t\t// \t\tme.curChatMsg[0].isShow = true\r\n\t\t\t// \t}\r\n\t\t\t// \tuni.setStorageSync(\"rendered_\" + sessionKey, msgList);\r\n\t\t\t// \tconsole.log('msgList', msgList)\r\n\r\n\t\t\t// })\r\n\r\n\t\t\tdisp.on('em.xmpp.error.sendMsgErr', function(err) {\r\n\t\t\t\tcurMsgMid = err.data.mid\r\n\t\t\t\tisFail = true\r\n\t\t\t\treturn\r\n\t\t\t\tconsole.log('发送失败了')\r\n\t\t\t\tlet msgList = me.data.chatMsg\r\n\t\t\t\tmsgList.map((item) => {\r\n\t\t\t\t\tif (item.mid.substring(item.mid.length - 10) == curMsgMid.substring(curMsgMid.length - 10)) {\r\n\t\t\t\t\t\titem.msg.data[0].isFail = true\r\n\t\t\t\t\t\titem.isFail = true\r\n\r\n\t\t\t\t\t\tme.setData({\r\n\t\t\t\t\t\t\tchatMsg: msgList\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (me.curChatMsg[0].mid == curMsgMid) {\r\n\t\t\t\t\tme.curChatMsg[0].msg.data[0].isShow = false;\r\n\t\t\t\t\tme.curChatMsg[0].isShow = false\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"rendered_\" + sessionKey, msgList);\r\n\t\t\t});\r\n\r\n\t\t\tmsgStorage.on(\"newChatMsg\", function(renderableMsg, type, curChatMsg, sesskey) {\r\n\t\t\t\tif (!me.lastTime || (new Date().getTime() - me.lastTime) > 5 * 60 * 1000) {\r\n\t\t\t\t\trenderableMsg.showTime = true;\r\n\t\t\t\t\t// renderableMsg.time = renderableMsg.time.substring(renderableMsg.time.indexOf(\" \")+1);\r\n\t\t\t\t\tme.lastTime = new Date().getTime();\r\n\t\t\t\t}\r\n\t\t\t\tme.curChatMsg = curChatMsg;\r\n\t\t\t\tif (!me.$data.visibility__) return;\r\n\t\t\t\t// 判断是否属于当前会话\r\n\t\t\t\tif (username.groupId) {\r\n\t\t\t\t\t// 群消息的 to 是 id，from 是 name\r\n\t\t\t\t\tif (renderableMsg.info.from == username.groupId || renderableMsg.info.to == username.groupId) {\r\n\t\t\t\t\t\tif (sesskey == sessionKey) {\r\n\t\t\t\t\t\t\tme.renderMsg(renderableMsg, type, curChatMsg, sessionKey, 'newMsg');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (renderableMsg.info.from == username.your || renderableMsg.info.to == username.your) {\r\n\t\t\t\t\t// if (sesskey == sessionKey) {\r\n\t\t\t\t\tme.renderMsg(renderableMsg, type, curChatMsg, sessionKey, 'newMsg');\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\t},\r\n\t}\r\n</script>\n<style>\n\t/*.chat-bg{\n\tposition:fixed;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 0;\n\ttop: 50px;\n}*/\n.scroll_view,\n.scroll_view_change {\n\t/*width: 100%;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 150rpx;*/\n\tmargin-bottom: 174rpx;\n\tbackground-color: #FAFAFA;\n}\n\n.scroll_view_X,\n.scroll_view_change_X{\n\tmargin-bottom: 244rpx;\n}\n\n.scroll_view_change {\n\t/*bottom: 440rpx;*/\n\tmargin-bottom: 590rpx;\n}\n\n.message {\n\twidth: 92%;\n\theight: auto;\n\tpadding: 0 30rpx;\n\tposition: relative;\n\n}\n\n.time {\n\tmargin: 14rpx 0;\n\ttext-align: center;\n}\n\n.time .time-text {\n\tdisplay: inline-block;\n\tpadding: 6rpx 20rpx 0 20rpx;\n\tfont-size: 24rpx;\n\tcolor: #fff;\n\tline-height: 28rpx;\n\tborder-radius: 4rpx;\n\tbackground-color: #dcdcdc;\n}\n\n.user .user-text {\n\tmargin: auto 100rpx 8rpx;\n\tfont-size: 20rpx;\n\tcolor: #dcdcdc;\n\tdisplay: block;\n}\n\n.avatar {\n\twidth: 72rpx;\n\theight: 72rpx;\n\tmargin: 0 20rpx 0 0;\n\tborder-radius: 6rpx;\n\tfloat: left;\n}\n\n.msg {\n\tdisplay: inline-block;\n\tpadding: 20rpx;\n\tmax-width: calc(85% - 80rpx);\n\tmin-height: 40rpx; \n\tfont-size: 24rpx;\n\t/*overflow: hidden;*/\n\ttext-align: left;\n\tword-break: break-all;\n\tbackground-color: #fff;\n\tborder-radius: 26rpx;\n\tposition: relative;\n\tmargin-top: 24rpx;\n}\n\n.msg .msg_poprightarrow {\n\tposition: absolute;\n\tright: -10rpx;\n\theight: 18rpx;\n\twidth: 18rpx;\n\tmargin-top: -10rpx;\n}\n\n.msg .msg_popleftarrow{\n\tposition:absolute;\n\tleft: -14rpx;\n\theight: 18rpx;\n\twidth: 18rpx;\n\tmargin-top: -10rpx;\n}\n\n.msg .msg-text {\n\tline-height: 40rpx;\n\tfont-size: 32rpx;\n\tmargin: 0;\n}\n\n/*.msg:before {\n\tcontent: \" \";\n\tposition: absolute;\n\ttop: 9px;\n\tright: 100%;\n\tborder: 6px solid transparent;\n\tborder-right-color: #EDEDED;\n}*/\n\n.self {\n\ttext-align: right;\n}\n\n.self .avatar {\n\tfloat: right;\n\tmargin: 0 0 0 20rpx;\n}\n\n.user {\n\tposition: relative;\n\tbottom: -30rpx;\n}\n\n.self .msg {\n\tbackground-color: #0873DE;\n\tcolor: #fff;\n}\n\n.self .msg:before {\n\tright: inherit;\n\tleft: 100%;\n\tborder-right-color: transparent;\n\tborder-left-color: #b2e281;\n}\n\n.template {\n\tdisplay: inline;\n}\n.err{\n\twidth: 32rpx;\n\theight: 32rpx;\n\tposition: absolute;\n\tleft: -40rpx;\n}\n.hide{\n\tdisplay: none;\n}\n.show{\n\tdisplay: block;\n}\n\n</style>","import { render, staticRenderFns } from \"./audio.vue?vue&type=template&id=72f155e4&\"\nimport script from \"./audio.vue?vue&type=script&lang=js&\"\nexport * from \"./audio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audio.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('72f155e4', component.options)\n    } else {\n      api.reload('72f155e4', component.options)\n    }\n    module.hot.accept(\"./audio.vue?vue&type=template&id=72f155e4&\", function () {\n      api.rerender('72f155e4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/msglist/type/audio/audio.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=template&id=72f155e4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {\n      staticClass: \"audio-player\",\n      style: { opacity: _vm.opcity },\n      attrs: { eventid: \"3e4dc81a-0\" },\n      on: { tap: _vm.audioPlay }\n    },\n    [\n      _c(\"text\", { staticClass: \"time\" }, [\n        _vm._v(\"语音消息 \" + _vm._s(_vm.time))\n      ]),\n      _c(\n        \"view\",\n        {\n          staticClass: \"controls play-btn\",\n          attrs: { \"bind:tap\": \"audioPlay\" }\n        },\n        [\n          _c(\"image\", {\n            attrs: {\n              src:\n                _vm.style == \"self\"\n                  ? \"/static/images/voicemsgmy.png\"\n                  : \"/static/images/voicemsg.png\"\n            }\n          })\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"audio-player\" @tap=\"audioPlay\" :style=\"{opacity: opcity}\">\n\t\t<text class=\"time\">语音消息 {{ time }}</text>\n\t\t<view\n\t\t\tclass=\"controls play-btn\"\n\t\t\n\t\t\tbind:tap=\"audioPlay\">\n\t\t\t<image :src=\"style == 'self'? '/static/images/voicemsgmy.png' : '/static/images/voicemsg.png'\"></image>\n\t\t</view>\n\t\t\n\t</view>\n</template>\n\n<script>\n\tlet audioCtxFc = require(\"./audioCtxFactory\");\n\tlet playStatus = require(\"./playStatus\");\n\tconst innerAudioContext = uni.createInnerAudioContext();\n\tif (innerAudioContext) {\n\t\tinnerAudioContext.obeyMuteSwitch = false;\n\t\tinnerAudioContext.autoplay = true;\n\t  \n\t}else {\n\t  myaudio.obeyMuteSwitch = false;\n\t  myaudio.autoplay = true;\n\t}\n\tlet inter;\n\t\nexport default {\n\tname: 'AudioMsg',\n\t\tprops: {\n\t\t\tmsg: {\n\t\t\t\ttype: Object,\n\t\t\t\tval: {}\n\t\t\t},\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tplayStatus: playStatus,\n\t\t\t\tcurStatus: playStatus.STOP,\n\t\t\t\ttime: \"0'\",\n\t\t\t\topcity: 1,\n\t\t\t\tcomps__: {\n\t\t\t\t\taudioCtx: null,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\taudioPlay(){\n\t\t\t\tinter && clearInterval(inter)\n\t\t\t\tlet audioCtx = this.comps__.audioCtx;\n\t\t\t\tvar curl = ''\n\t\t\t\tuni.downloadFile({\n\t\t\t\turl: this.msg.msg.data,\n\t\t\t\theader: {\n\t\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\t\t\t\tAccept: \"audio/mp3\",\n\t\t\t\t\tAuthorization: \"Bearer \" + this.msg.msg.token\n\t\t\t\t},\n\t\t\t\tsuccess(res){\n\t\t\t\t\tcurl = res.tempFilePath;\n\t\t\t\t\tconsole.log('音频本地',audioCtx)\n\t\t\t\t\t//renderableMsg.msg.url = res.tempFilePath;\n\t\t\t\t\taudioCtx.src = curl;\n\t\t\t\t\taudioCtx.play();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tfail(e){\n\t\t\t\t\tconsole.log(\"downloadFile failed\", e);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"下载失败\",\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t},\n\t\n\t\t\taudioPause(auCtx){\n\t\t\t\t//let audioCtx = this.data.comps__.audioCtx;\n\t\t\t\tlet audioCtx = this.comps__.audioCtx = audioCtxFc.getCtx(this.msg.mid) || auCtx\n\t\t\t\taudioCtx&&audioCtx.pause();\n\t\t\t},\n\t\n\t\t\taddEvent(){\n\t\t\t\tlet audioCtx = this.comps__.audioCtx;\n\t\t\t\taudioCtx.onPlay(this.onPlaying);\n\t\t\t\taudioCtx.onPause(this.onPause);\n\t\t\t\taudioCtx.onWaiting(this.onPause);\n\t\t\t\taudioCtx.onStop(this.onDone);\n\t\t\t\taudioCtx.onEnded(this.onDone);\n\t\t\t\taudioCtx.onError(this.onDone);\n\t\t\t\taudioCtx.onWaiting(this.onWait)\n\t\n\t\t\t\t//audioCtx.onTimeUpdate(this.onTimeUpdate);\n\t\t\t},\n\t\n\t\t\tdelEvent(){\n\t\t\t\tlet audioCtx = this.comps__.audioCtx;\n\t\t\t\taudioCtx.offPlay(this.onPlaying);\n\t\t\t\taudioCtx.offPause(this.onPause);\n\t\t\t\taudioCtx.offWaiting(this.onPause);\n\t\t\t\taudioCtx.offStop(this.onDone);\n\t\t\t\taudioCtx.offEnded(this.onDone);\n\t\t\t\taudioCtx.offError(this.onDone);\n\t\t\t\taudioCtx.offWaiting(this.onWait)\n\t\t\t\t// 多次播放会丢失这个回调，所以不用卸载\n\t\t\t\t// audioCtx.offTimeUpdate(this.onTimeUpdate);\n\t\t\t},\n\t\t},\n\t\n\t\t// lifetimes\n\t\tcreated(){},\n\t\tbeforeMount(){\n\t\t\tthis.time= this.msg.msg.length + \"''\";\n\t\t\tthis.style= this.msg.style;\n\t\t\t\n\t\t},\n\t\tmoved(){},\n\t\tdestroyed(){\n\t\t\t\n\t\t\tlet audioCtx = this.comps__.audioCtx = audioCtxFc.getCtx(this.msg.mid);\n\t\t\tthis.audioPause(audioCtx);\n\t\t\tthis.delEvent();\n\t\t\t//audioCtx.destroy();\n\t\t},\n\t\tmounted(){\n\t\t\tlet self = this\n\t\t\tlet curl = ''\n\t\t\tlet audioCtx = this.comps__.audioCtx = audioCtxFc.getCtx(this.msg.mid);\n\t\t\t\n\t\t\taudioCtx.autoplay = false;\n\t\t\taudioCtx.loop = false;\n\t\t\t//\n\t\t\tthis.onPlaying = () => {\n\t\t\t\t//console.log(\"onPlaying\", JSON.stringify(this.data));\n\t\t\t\tthis.curStatus= playStatus.PLAYING;\n\t\t\t\t\n\t\t\t\tinter && clearInterval(inter)\n\t\t\t\tinter = setInterval(() => {\n\t\t\t\t\tlet opcity = this.opcity;\n\t\t\t\t\tthis.opcity= opcity == 1 ? 0.4 : 1\n\t\t\t\t\t\n\t\t\t\t}, 500)\n\t\t\t};\n\t\t\tthis.onPause = () => {\n\t\t\t\t// console.log(\"onPause\", JSON.stringify(this.data));\n\t\t\t\t// 第二次播放会立即抛出一个异常的 onPause\n\t\t\t\tif(parseInt(this.time, 10) < 1){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.curStatus= playStatus.PAUSE;\n\t\t\t\tthis.opcity= 1;\n\t\t\t\t\n\t\t\t};\n\t\t\tthis.onDone = () => {\n\t\t\t\t// console.log(\"onDone\", JSON.stringify(this.data));\n\t\t\t\tthis.curStatus= playStatus.STOP,\n\t\t\t\tthis.opcity= 1;\n\t\t\t\t\n\t\t\t\tclearInterval(inter)\n\t\t\t};\n\t\t\t// 多次播放会丢失这个回调\n\t\t\tthis.onTimeUpdate = () => {\n\t\t\t\tthis.time= (audioCtx.currentTime >> 0) + \"'\"\n\t\t\t};\n\t\t\tthis.onWait = () => {\n\t\t\t\t\n\t\t\t}\n\t\t\tthis.addEvent();\n\t\t},\n\t}\n\t\n\t\n</script>\n\n<style>\n\t.audio-player {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\ttransition: opacity .5s;\n\t}\n\t\n\t.audio-player .controls {\n\t\theight:40rpx;\n\t\talign-items:center;\n\t\tdisplay:flex;\n\t}\n\t\n\t.audio-player .controls image {\n\t\theight: 48rpx;\n\t\twidth: 30rpx;\n\t\tmargin: 0 8rpx 0 100rpx;\n\t}\n\t\n\t.audio-player .time {\n\t\tfont-size: 34rpx;\n\t\tline-height: 40rpx;\n\t\tflex: 1;\n\t\ttext-align: left;\n\t}\n\t\n</style>\n","// 每一个音频消息都有自己的 ctx。\n// 可以有多个 ctx，每次播放都能知道是哪个 ctx 在调用，从而让其他的 ctx pause。\n// 消息销毁，记得处理 ctx。\n// 主要是同步跨 ctx 的操作，保证只有一个 ctx 播放\nlet allCtx = {};\nlet inUseCtx = null;\nlet allComm = {}\nfunction proxier(ctx){\n\tlet __play__ = ctx.play;\n\tlet __pause__ = ctx.pause;\n\tctx.play = playProxier;\n\tctx.pause = pauseProxier;\n\tfunction playProxier(){\n\t\t// 如果正在播放的不是自己，暂停\n\t\tif(inUseCtx && inUseCtx != this){\n\t\t\tinUseCtx.pause();\n\t\t}\n\t\t__play__.call(this);\n\t\tinUseCtx = this;\n\t}\n\tfunction pauseProxier(){\n\t\t// 只有是自己才 pause\n\t\tif(inUseCtx == this){\n\t\t\t__pause__.call(this);\n\t\t}\n\t}\n}\n\nmodule.exports = {\n\tgetCtx(mid){\n\t\tlet returnCtx = allCtx[mid];\n\t\tif(!returnCtx){\n\t\t\treturnCtx = wx.createInnerAudioContext();\n\t\t\tallCtx[mid] = returnCtx;\n\t\t\tproxier(returnCtx);\n\t\t}\n\t\treturn returnCtx;\n\t},\n\tgetAllCtx(){\n\t\twx.setStorageSync(\"allCtx\", JSON.stringify(Object.keys(allCtx)));\n\t\treturn allCtx\n\t},\n\tgetCommponet(mid,comm){\n\t\tlet curComm = allComm[mid]\n\t\tif (!curComm) {\n\t\t\tallComm[mid] = comm\n\t\t}\n\t\treturn allComm\n\t}\n};\n","module.exports = {\n\tPLAYING: \"playing\",\n\tPAUSE: \"pause\",\n\tSTOP: \"stop\",\n};\n","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msglist.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./msglist.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./inputbar.vue?vue&type=template&id=3e0439da&\"\nimport script from \"./inputbar.vue?vue&type=script&lang=js&\"\nexport * from \"./inputbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./inputbar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3e0439da', component.options)\n    } else {\n      api.reload('3e0439da', component.options)\n    }\n    module.hot.accept(\"./inputbar.vue?vue&type=template&id=3e0439da&\", function () {\n      api.rerender('3e0439da', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/inputbar/inputbar.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./inputbar.vue?vue&type=template&id=3e0439da&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"room_bar\" },\n    [\n      _c(\"chat-suit-emoji\", {\n        ref: \"emoji\",\n        attrs: { eventid: \"76cc1a26-0\", mpcomid: \"76cc1a26-0\" },\n        on: { newEmojiStr: _vm.emojiAction }\n      }),\n      _c(\"chat-suit-main\", {\n        ref: \"main\",\n        attrs: {\n          username: _vm.username,\n          chatType: _vm.chatType,\n          eventid: \"76cc1a26-1\",\n          mpcomid: \"76cc1a26-1\"\n        },\n        on: { inputFocused: _vm.cancelEmoji, newTextMsg: _vm.sendTextMessage }\n      }),\n      _c(\"chat-suit-image\", {\n        ref: \"image\",\n        attrs: {\n          username: _vm.username,\n          chatType: _vm.chatType,\n          eventid: \"76cc1a26-2\",\n          mpcomid: \"76cc1a26-2\"\n        },\n        on: { newImageMsg: _vm.sendImageMessage }\n      }),\n      _c(\"view\", { class: [\"other_func\", _vm.isIPX ? \"other_func_X\" : \"\"] }, [\n        _c(\n          \"view\",\n          {\n            staticClass: \"open_emoji\",\n            attrs: { eventid: \"76cc1a26-3\" },\n            on: { tap: _vm.openEmoji }\n          },\n          [_c(\"image\", { attrs: { src: \"/static/images/Emoji.png\" } })]\n        ),\n        _c(\n          \"view\",\n          {\n            staticClass: \"v-record\",\n            attrs: { eventid: \"76cc1a26-4\" },\n            on: { tap: _vm.toggleRecordModal }\n          },\n          [\n            _c(\"image\", {\n              staticClass: \"icon-record\",\n              staticStyle: { width: \"16px\", height: \"24px\" },\n              attrs: {\n                src:\n                  _vm.recordStatus != _vm.RecordStatus.HIDE\n                    ? \"/static/images/iconAudioActive@2x.png\"\n                    : \"/static/images/voice.png\"\n              }\n            })\n          ]\n        ),\n        _c(\n          \"view\",\n          {\n            staticClass: \"open_camera\",\n            attrs: { eventid: \"76cc1a26-5\" },\n            on: { tap: _vm.openCamera }\n          },\n          [\n            _c(\"image\", {\n              staticStyle: { width: \"24px\", height: \"18px\" },\n              attrs: { src: \"/static/images/camora.png\" }\n            })\n          ]\n        ),\n        _c(\n          \"view\",\n          {\n            staticClass: \"send_image\",\n            attrs: { eventid: \"76cc1a26-6\" },\n            on: { tap: _vm.sendImage }\n          },\n          [\n            _c(\"image\", {\n              staticStyle: { height: \"20px\", width: \"20px\" },\n              attrs: { src: \"/static/images/pic.png\" }\n            })\n          ]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./inputbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./inputbar.vue?vue&type=script&lang=js&\"","<template>\n<view class=\"room_bar\">\n\t<chat-suit-emoji ref=\"emoji\" @newEmojiStr=\"emojiAction\"></chat-suit-emoji>\n\t<chat-suit-main ref=\"main\" :username=\"username\" :chatType=\"chatType\" @inputFocused=\"cancelEmoji\" @newTextMsg=\"sendTextMessage\"></chat-suit-main>\n\t<chat-suit-image ref=\"image\" :username=\"username\" :chatType=\"chatType\" @newImageMsg=\"sendImageMessage\"></chat-suit-image>\n\t<!-- <chat-suit-location id=\"chat-suit-location\" username=\"{{ username }}\"></chat-suit-location> -->\n\t<!-- <chat-suit-video id=\"chat-suit-video\" username=\"{{ username }}\"></chat-suit-video> -->\n\t\n\t<view v-bind:class=\"['other_func', isIPX? 'other_func_X': '']\">\n\t\t<view class=\"open_emoji\" @tap=\"openEmoji\">\n\t\t\t<image src=\"/static/images/Emoji.png\"/>\n\t\t</view>\n\t\t<!-- #ifndef H5 -->\n\t\t<view class=\"v-record\" @tap=\"toggleRecordModal\">\n\t\t\t<image\n\t\t\t\tclass=\"icon-record\"\n\t\t\t\t:src=\"recordStatus != RecordStatus.HIDE ? '/static/images/iconAudioActive@2x.png' : '/static/images/voice.png'\" style=\"width:16px; height: 24px\"/>\n\t\t</view>\n\t\t<!-- #endif -->\n\t\t<view class=\"open_camera\" @tap=\"openCamera\">\n\t\t\t<image src=\"/static/images/camora.png\" style=\"width:24px; height: 18px\"/>\n\t\t</view>\n\t\t<view class=\"send_image\" @tap=\"sendImage\">\n\t\t\t<image src=\"/static/images/pic.png\" style=\"height:20px; width: 20px\"/>\n\t\t</view>\n\t\t<!-- <view class=\"send_image\" @tap=\"sendLocation\">\n\t\t\t<image src=\"../../../images/iconLocation@2x.png\" style=\"height:18px;\"/>\n\t\t</view> -->\n\t</view>\n</view>\n</template>\n<script>\n\t\n\timport ChatSuitEmoji from './suit/emoji/emoji.vue'\n\timport ChatSuitMain from './suit/main/main.vue'\n\timport ChatSuitImage from './suit/image/image.vue'\nlet RecordStatus = require(\"./suit/audio/record_status\").RecordStatus;\nlet msgType = require(\"../msgtype\");\n\nexport default {\n\tcomponents: {ChatSuitEmoji,ChatSuitMain,ChatSuitImage},\n\tname: 'ChatInputbar',\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {}\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata(){\n\t\treturn {\n\t\t\trecordStatus: RecordStatus.HIDE,\n\t\t\tRecordStatus,\n\t\t\t__comps__: {\n\t\t\t\tmain: null,\n\t\t\t\temoji: null,\n\t\t\t\timage: null,\n\t\t\t\tlocation: null,\n\t\t\t\t//video: null,\n\t\t\t},\n\t\t\tisIPX: getApp().globalData.isIPX\n\t\t}\n\t},\n\tcreated(){\n\t\t\n\t},\n\tmounted() {\n\t\t// this.setData({\n\t\t// \tisIPX: getApp().globalData.isIPX\n\t\t// })\n\t\tlet comps = this.$refs;\n\t\tcomps.main = this.$refs.main;\n\t\tcomps.emoji = this.$refs.emoji;\n\t\tcomps.image = this.$refs.image;\n\t\t// comps.location = this.selectComponent(\"#chat-suit-location\");\n\t\t//comps.video = this.selectComponent(\"#chat-suit-video\");\n\t\tthis.$refs = comps;\n\t},\n\tmethods: {\n\t\t// 事件有长度限制：仅限 26 字符\n\t\ttoggleRecordModal:function(){\n\t\t\tthis.$emit(\n\t\t\t\t\"tapSendAudio\",\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t// sendVideo(){\n\t\t// \tthis.$refs.video.sendVideo();\n\t\t// },\n\n\t\topenCamera(){\n\t\t\tthis.$refs.image.openCamera();\n\t\t},\n\n\t\topenEmoji(){\n\t\t\tthis.$refs.emoji.openEmoji();\n\t\t},\n\n\t\tcancelEmoji(){\n\t\t\tthis.$refs.emoji.cancelEmoji();\n\t\t},\n\n\t\tsendImage(){\n\t\t\tthis.$refs.image.sendImage();\n\t\t},\n\n\t\tsendLocation(){\n\t\t\t// this.$refs.location.sendLocation();\n\t\t},\n\n\t\temojiAction(evt){\n\t\t\tthis.$refs.main.emojiAction(evt.msg);\n\t\t},\n\t\tsendTextMessage(evt){\n\t\t\tthis.$emit(\n\t\t\t\t\"newTextMsg\",\n\t\t\t\tevt,\n\t\t\t\t{\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tsendImageMessage(evt){\n\t\t\tthis.$emit(\n\t\t\t\t\"newImageMsg\",\n\t\t\t\tevt,\n\t\t\t\t{\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t},\n\n\t// lifetimes\n\t\n\tattached(){},\n\tmoved(){},\n\tdetached(){}\n\t\n}\n\n</script>\n<style>\n\t.room_bar {\n\twidth: 100%;\n\theight: auto;\n\tborder-top: 1px solid #CFCFCF;\n\tposition: fixed;\n\tbottom: 0;\n\tright: 0;\n\tz-index: 1;\n\tbackground-color: #FFFFFF;\n\ttransform: translateZ(1000px);\n}\n\n.other_func {\n\twidth: 100%;\n\theight: 60rpx;\n\tdisplay: flex;\n}\n.other_func_X{\n\theight: 128rpx;\n}\n\n.other_func image {\n\twidth: 42rpx;\n\theight: 40rpx;\n}\n\n.open_emoji,\n.send_image,\n.open_camera,\n.v-record {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-left: 48rpx;\n}\n\n\n.v-record .icon-record {\n\twidth: 18rpx;\n\theight: 40rpx;\n}\n.v-record{\n\tmargin-left: 48rpx;\n}\n.open_camera, .send_image{\n\tmargin-left: 64rpx;\n}\n\n\n\n</style>","import { render, staticRenderFns } from \"./emoji.vue?vue&type=template&id=bb54f576&\"\nimport script from \"./emoji.vue?vue&type=script&lang=js&\"\nexport * from \"./emoji.vue?vue&type=script&lang=js&\"\nimport style0 from \"./emoji.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('bb54f576', component.options)\n    } else {\n      api.reload('bb54f576', component.options)\n    }\n    module.hot.accept(\"./emoji.vue?vue&type=template&id=bb54f576&\", function () {\n      api.rerender('bb54f576', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/inputbar/suit/emoji/emoji.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./emoji.vue?vue&type=template&id=bb54f576&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"swiper\",\n    {\n      class: _vm.show,\n      attrs: {\n        \"indicator-dots\": _vm.indicatorDots,\n        autoplay: _vm.autoplay,\n        interval: _vm.interval,\n        duration: _vm.duration\n      }\n    },\n    [\n      _c(\n        \"block\",\n        [\n          _c(\"swiper-item\", { attrs: { mpcomid: \"b1d927c2-0\" } }, [\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map1, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-0-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            ),\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map2, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-1-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            ),\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map3, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-2-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            )\n          ])\n        ],\n        1\n      ),\n      _c(\n        \"block\",\n        { staticClass: \"second\" },\n        [\n          _c(\"swiper-item\", { attrs: { mpcomid: \"b1d927c2-1\" } }, [\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map4, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-3-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            ),\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map5, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-4-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            ),\n            _c(\n              \"view\",\n              { staticClass: \"emoji_item\" },\n              _vm._l(_vm.emojiObj.map6, function(item, index) {\n                return _c(\"image\", {\n                  key: index,\n                  attrs: {\n                    src: _vm.emojiObj.path + item,\n                    \"data-emoji\": index,\n                    eventid: \"b1d927c2-5-\" + index\n                  },\n                  on: { tap: _vm.sendEmoji }\n                })\n              })\n            )\n          ])\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./emoji.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./emoji.vue?vue&type=script&lang=js&\"","<template>\n<swiper\n\t:class=\"show\"\n\t:indicator-dots=\"indicatorDots\"\n\t:autoplay=\"autoplay\"\n\t:interval=\"interval\"\n\t:duration=\"duration\">\n\t<block>\n\t\t<swiper-item>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map1\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map2\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map3\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t</swiper-item>\n\t</block>\n\t<block class=\"second\">\n\t\t<swiper-item>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map4\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map5\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t\t<view class=\"emoji_item\">\n\t\t\t\t<image\n\t\t\t\t\tv-for=\"(item,index) in emojiObj.map6\"\n\t\t\t\t\t:src=\"emojiObj.path + item\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@tap=\"sendEmoji\"\n\t\t\t\t\t:data-emoji=\"index\" />\n\t\t\t</view>\n\t\t</swiper-item>\n\t</block>\n</swiper>\n</template>\n<script>\nlet WebIM = require(\"../../../../../utils/WebIM\")[\"default\"];\nlet msgType = require(\"../../../msgtype\");\nlet EMOJI_STATUS = {\n\tOPENED: \"showEmoji\",\n\tCLOSED: \"emoji_list\",\n};\n\nexport default {\n\tname: 'ChatSuitEmoji',\n\tdata(){\n\t\treturn {\n\t\t\tshow: EMOJI_STATUS.CLOSED,\n\t\t\temoji: WebIM.Emoji,\n\t\t\temojiObj: WebIM.EmojiObj,\n\n\t\t\tinterval: 5000,\n\t\t\tduration: 1000,\n\t\t\tautoplay: false,\n\t\t\tindicatorDots: true,\t// 显示面板指示点\n\t\t}\n\t},\n\tmethods: {\n\t\topenEmoji(){\n\t\t\tthis.show = EMOJI_STATUS.OPENED;\n\t\t},\n\n\t\tcancelEmoji(){\n\t\t\tthis.show= EMOJI_STATUS.CLOSED;\n\t\t},\n\n\t\t// 输出 emoji\n\t\tsendEmoji(event){\n\t\t\tvar emoji = event.target.dataset.emoji;\n\t\t\tthis.$emit(\n\t\t\t\t\"newEmojiStr\",\n\t\t\t\t{\n\t\t\t\t\tmsg: emoji,\n\t\t\t\t\ttype: msgType.EMOJI,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t},\n}\n\n</script>\n<style>\n\t.emoji_list {\n\tmargin-top: 30px;\n\twidth: 100%;\n\theight: 145px;\n\tbackground-color: #dddddd;\n\tpadding-top: 10px;\n\tpadding-left: 3%;\n\tdisplay: none;\n}\n\n.showEmoji {\n\tmargin-top: 30px;\n\twidth: 100%;\n\theight: 145px;\n\tbackground-color: #dddddd;\n\tpadding-top: 10px;\n\tpadding-left: 3%;\n\tdisplay: block;\n}\n\n.emoji_list image,\n.showEmoji image {\n\twidth: 26px;\n\theight: 26px;\n\tmargin: 5px 2%;\n}\n\n.emoji {\n\twidth: 26px;\n\theight: 26px;\n\tmargin: 0 0;\n}\n\n.emoji_item {\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tmargin-right: 20px;\n}\n\n</style>","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./emoji.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./emoji.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=c5842952&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c5842952', component.options)\n    } else {\n      api.reload('c5842952', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=c5842952&\", function () {\n      api.rerender('c5842952', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/inputbar/suit/main/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=c5842952&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"form\", { staticClass: \"text-input\" }, [\n    _c(\"input\", {\n      directives: [\n        {\n          name: \"model\",\n          rawName: \"v-model\",\n          value: _vm.inputMessage,\n          expression: \"inputMessage\"\n        }\n      ],\n      staticClass: \"f news\",\n      attrs: {\n        type: \"text\",\n        \"cursor-spacing\": \"65\",\n        \"confirm-type\": \"send\",\n        placeholder: \"输入新消息\",\n        \"placeholder-style\": \"color:#CFCFCF; padding-left:5px;\",\n        eventid: \"7be8809e-0\"\n      },\n      domProps: { value: _vm.inputMessage },\n      on: {\n        confirm: _vm.sendMessage,\n        input: [\n          function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.inputMessage = $event.target.value\n          },\n          _vm.bindMessage\n        ],\n        tap: _vm.focus,\n        focus: _vm.focus,\n        blur: _vm.blur\n      }\n    })\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n<!-- <chat-suit-emoji id=\"chat-suit-emoji\" bind:newEmojiStr=\"emojiAction\"></chat-suit-emoji> -->\n<form class=\"text-input\">\n\t<!-- <view class=\"f-row\"> -->\n\t\t<input\n\t\t\tclass=\"f news\"\n\t\t\ttype=\"text\"\n\t\t\tv-model=\"inputMessage\"\n\t\t\t\n\t\t\tcursor-spacing=\"65\"\n\t\t\tconfirm-type=\"send\"\n\t\t\t@confirm=\"sendMessage\"\n\t\t\t@input=\"bindMessage\"\n\t\t\t@tap=\"focus\"\n\t\t\t@focus=\"focus\"\n\t\t\t@blur=\"blur\"\n\t\t\tplaceholder=\"输入新消息\"\n\t\t\tplaceholder-style=\"color:#CFCFCF; padding-left:5px;\"\n\t\t\t />\n\n\t\t<!-- <button class=\"send_btn\" bind:tap=\"sendMessage\">发送</button> -->\n\n<!-- \t</view> -->\n</form>\n</template>\n<script>\n\t\nlet WebIM = require(\"../../../../../utils/WebIM\")[\"default\"];\nlet msgType = require(\"../../../msgtype\");\nlet disp = require(\"../../../../../utils/broadcast\");\nexport default{\n\tname:'ChatSuitMain',\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {},\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tinputMessage: \"\",\t\t// render input 的值\n\t\t\tuserMessage: \"\",\t\t// input 的实时值\n\t\t}\n\t},\n\n\tmethods: {\n\t\tfocus(){\n\t\t\tthis.$emit(\"inputFocused\", null, { bubbles: true });\n\t\t},\n\n\t\tblur(){\n\t\t\tthis.$emit(\"inputBlured\", null, { bubbles: true });\n\t\t},\n\n\t\tisGroupChat(){\n\t\t\treturn this.chatType == msgType.chatType.CHAT_ROOM;\n\t\t},\n\n\t\tgetSendToParam(){\n\t\t\treturn this.isGroupChat() ? this.username.groupId : this.username.your;\n\t\t},\n\n\t\t// bindinput 不能打冒号！\n\t\tbindMessage(e){\n\t\t\tthis.userMessage = e.detail.value;\n\t\t},\n\n\t\temojiAction(emoji){\n\t\t\tvar str;\n\t\t\tvar msglen = this.userMessage.length - 1;\n\t\t\tif(emoji && emoji != \"[del]\"){\n\t\t\t\tstr = this.userMessage + emoji;\n\t\t\t}\n\t\t\telse if(emoji == \"[del]\"){\n\t\t\t\tlet start = this.userMessage.lastIndexOf(\"[\");\n\t\t\t\tlet end = this.userMessage.lastIndexOf(\"]\");\n\t\t\t\tlet len = end - start;\n\t\t\t\tif(end != -1 && end == msglen && len >= 3 && len <= 4){\n\t\t\t\t\tstr = this.userMessage.slice(0, start);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tstr = this.userMessage.slice(0, msglen);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.userMessage=str;\n\t\t\tthis.inputMessage=str;\n\t\t},\n\n\t\tsendMessage(){\n\t\t\tlet me = this;\n\n\t\t\tString.prototype.trim=function()\n\t\t\t{\n\t\t\t     return this.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\tif(!this.userMessage.trim()){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet id = WebIM.conn.getUniqueId();\n\t\t\tlet msg = new WebIM.message(msgType.TEXT, id);\n\t\t\tmsg.set({\n\t\t\t\tmsg: this.userMessage,\n\t\t\t\tfrom: this.username.myName,\n\t\t\t\tto: this.getSendToParam(),\n\t\t\t\troomType: false,\n\t\t\t\tchatType: this.chatType,\n\t\t\t\tsuccess:(id, serverMsgId)=>{\n\t\t\t\t\t//console.log('成功了')\n\t\t\t\t\tdisp.fire('em.chat.sendSuccess', id, me.userMessage);\n\t\t\t\t},\n\t\t\t\tfail(id, serverMsgId){\n\t\t\t\t\tconsole.log('失败了')\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(this.chatType == msgType.chatType.CHAT_ROOM){\n\t\t\t\tmsg.setGroup(\"groupchat\");\n\t\t\t}\n\t\t\tWebIM.conn.send(msg.body);\n\t\t\tthis.$emit(\n\t\t\t\t\"newTextMsg\",\n\t\t\t\t{\n\t\t\t\t\tmsg: msg,\n\t\t\t\t\ttype: msgType.TEXT,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true\n\t\t\t\t}\n\t\t\t);\n\t\t\t//\n\t\t\t\n\t\t\tthis.userMessage=\"\";\n\t\t\tthis.inputMessage=\"\";\n\t\t\t\n\t\t},\n\t},\n\n\t// lifetimes\n\tcreated(){},\n\tattached(){},\n\tmoved(){},\n\tdetached(){},\n\tready(){},\n}\n\n</script>\n<style>\n\t\n.text-input {\n\twidth: 100%;\n\theight: 100rpx;\n\tpadding: 0;\n\tdisplay: block;\n}\n\n.news {\n\twidth: 100%;\n\theight: 62rpx;\n\tfont-size: 14px;\n\tpadding: 0 32rpx;\n\tdisplay: inline-block;\n\tmargin-top: 10rpx;\n\tline-height: 48rpx;\n\tposition:relative;\n\ttop: 0;\n}\n\n.send_btn {\n\twidth: 80rpx;\n\theight: 60rpx;\n\tline-height: 60rpx;\n\tfont-size: 17px;\n\tcolor: #000;\n\tpadding: 0;\n\tdisplay: inline-block;\n\tfloat: right;\n\tmargin: 8rpx 16rpx auto auto;\n\tbackground-color: #fff;\n}\n\n.f-row{\n\theight:100rpx;\n\tdisplay:flex;\n\talign-items:center;\n}\n\n</style>","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./image.vue?vue&type=template&id=09d6a2a2&\"\nimport script from \"./image.vue?vue&type=script&lang=js&\"\nexport * from \"./image.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/machard/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('09d6a2a2', component.options)\n    } else {\n      api.reload('09d6a2a2', component.options)\n    }\n    module.hot.accept(\"./image.vue?vue&type=template&id=09d6a2a2&\", function () {\n      api.rerender('09d6a2a2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProject/goodshowuni/comps/chat/inputbar/suit/image/image.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=template&id=09d6a2a2&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\")\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./image.vue?vue&type=script&lang=js&\"","<template>\n\t<view></view>\n</template>\n<script>\nlet WebIM = require(\"../../../../../utils/WebIM\")[\"default\"];\nlet msgType = require(\"../../../msgtype\");\nlet disp = require(\"../../../../../utils/broadcast\");\nexport default {\n\tname:'ChatSuitImage',\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {},\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t\n\t\t}\n\t},\n\tmethods: {\n\t\topenCamera(){\n\t\t\tvar me = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: [\"original\", \"compressed\"],\n\t\t\t\tsourceType: [\"camera\"],\n\t\t\t\tsuccess(res){\n\t\t\t\t\tme.upLoadImage(res);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tsendImage(){\n\t\t\tvar me = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: [\"original\", \"compressed\"],\n\t\t\t\tsourceType: [\"album\"],\n\t\t\t\tsuccess(res){\n\t\t\t\t\tme.upLoadImage(res);\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tisGroupChat(){\n\t\t\treturn this.chatType == msgType.chatType.CHAT_ROOM;\n\t\t},\n\n\t\tgetSendToParam(){\n\t\t\treturn this.isGroupChat() ? this.username.groupId : this.username.your;\n\t\t},\n\n\t\tupLoadImage(res){\n\t\t\tvar me = this;\n\t\t\tvar tempFilePaths = res.tempFilePaths;\n\t\t\tvar token = WebIM.conn.context.accessToken\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tuni.getImageInfo({\n\t\t\t\tsrc: res.tempFilePaths[0],\n\t\t\t\tsuccess(res){\n\t\t\t\t\tvar allowType = {\n\t\t\t\t\t\tjpg: true,\n\t\t\t\t\t\tgif: true,\n\t\t\t\t\t\tpng: true,\n\t\t\t\t\t\tbmp: true\n\t\t\t\t\t};\n\t\t\t\t\tvar str = WebIM.config.appkey.split(\"#\");\n\t\t\t\t\tvar width = res.width;\n\t\t\t\t\tvar height = res.height;\n\t\t\t\t\tvar index = res.path.lastIndexOf(\".\");\n\t\t\t\t\tvar filetype = res.type;\n\t\t\t\t\t// if(filetype.toLowerCase() in allowType){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//#ifdef APP-PLUS\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar xhr          = new XMLHttpRequest();\n\t\t\t\t\t\txhr.open(\"get\", res.path, true);\n\t\t\t\t\t\txhr.responseType = \"blob\";\n\t\t\t\t\t\txhr.onload = function() {\n\t\t\t\t\t\t\tif (this.status == 200) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// var reader = new FileReader();\n\t\t\t\t\t\t\t\t// // 将图片转成DataURL格式\n\t\t\t\t\t\t\t\t// reader.readAsDataURL(this.response);\n\t\t\t\t\t\t\t\t// reader.onload = function(){\n\t\t\t\t\t\t\t\t   var blob = this.response;\n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t   var url = window.URL.createObjectURL(blob);\n\t\t\t\t\t\t\t\t   var file = {data: blob, url: url};\n\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t   var option = {\n\t\t\t\t\t\t\t\t\t\tapiUrl: WebIM.config.apiURL,\n\t\t\t\t\t\t\t\t\t\tfile: file,\n\t\t\t\t\t\t\t\t\t\tfrom: me.username.myName,\n\t\t\t\t\t\t\t\t\t\tto: me.getSendToParam(),\n\t\t\t\t\t\t\t\t\t\troomType: false,\n\t\t\t\t\t\t\t\t\t\tonFileUploadError: function (e) {      // 消息上传失败\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('onFileUploadError');\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tonFileUploadComplete: function (data) {   // 消息上传成功\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('onFileUploadComplete');\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsuccess: function (id) {                // 消息发送成功\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('Success');\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(id);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tvar id = WebIM.conn.getUniqueId();\t\t// 生成本地消息 id\n\t\t\t\t\t\t\t\t\tvar msg = new WebIM.message(msgType.IMAGE, id);\n\t\t\t\t\t\t\t\t\tmsg.set(option);\n\t\t\t\t\t\t\t\t\tWebIM.conn.send(msg.body);\n\t\t\t\t\t\t\t\t\tme.$emit(\n\t\t\t\t\t\t\t\t\t\t\"newImageMsg\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tmsg: msg,\n\t\t\t\t\t\t\t\t\t\t\ttype: msgType.IMAGE\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\t\t\t\t\tcomposed: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\txhr.send();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t\t\n\t\t\t\t\t\t//#ifndef APP-PLUS\n\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\turl: \"http://a1.easemob.com/\" + str[0] + \"/\" + str[1] + \"/chatfiles\",\n\t\t\t\t\t\t\t// url: 'http://www.dpsoft.top/upload.jsp', \n\t\t\t\t\t\t\tfilePath: tempFilePaths[0],\n\t\t\t\t\t\t\tname: \"file\",\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess(res){\n\t\t\t\t\t\t\t\tvar data = res.data;\n\t\t\t\t\t\t\t\tvar dataObj = JSON.parse(data);\n\t\t\t\t\t\t\t\tvar id = WebIM.conn.getUniqueId();\t\t// 生成本地消息 id\n\t\t\t\t\t\t\t\tvar msg = new WebIM.message(msgType.IMAGE, id);\n\t\t\t\t\t\t\t\tvar file = {\n\t\t\t\t\t\t\t\t\ttype: msgType.IMAGE,\n\t\t\t\t\t\t\t\t\tsize: {\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\turl: dataObj.uri + \"/\" + dataObj.entities[0].uuid,\n\t\t\t\t\t\t\t\t\tfiletype: filetype,\n\t\t\t\t\t\t\t\t\tfilename: tempFilePaths[0]\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tmsg.set({\n\t\t\t\t\t\t\t\t\tapiUrl: WebIM.config.apiURL,\n\t\t\t\t\t\t\t\t\tbody: file,\n\t\t\t\t\t\t\t\t\tfrom: me.username.myName,\n\t\t\t\t\t\t\t\t\tto: me.getSendToParam(),\n\t\t\t\t\t\t\t\t\troomType: false,\n\t\t\t\t\t\t\t\t\tchatType: me.chatType,\n\t\t\t\t\t\t\t\t\tsuccess: function (argument) {\n\t\t\t\t\t\t\t\t\t\tdisp.fire('em.chat.sendSuccess', id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif(me.chatType == msgType.chatType.CHAT_ROOM){\n\t\t\t\t\t\t\t\t\tmsg.setGroup(\"groupchat\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tWebIM.conn.send(msg.body);\n\t\t\t\t\t\t\t\tme.$emit(\n\t\t\t\t\t\t\t\t\t\"newImageMsg\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmsg: msg,\n\t\t\t\t\t\t\t\t\t\ttype: msgType.IMAGE\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\t\t\t\tcomposed: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n}\n\n</script>","import mod from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./inputbar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./inputbar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatroom.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatroom.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}