(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/tabbar-1/goodsdetail"],{"47d0":function(t,e,a){"use strict";a.r(e);var i=a("85d3"),s=a("a01b");for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var o=a("2877"),l=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"85d3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{attrs:{_hid:0}},[a("view",{staticClass:"cuIcon-roundleftfill-copy",staticStyle:{position:"fixed",color:"rgba(100,100,100,0.7)",top:"30rpx",left:"30rpx","font-size":"50rpx","z-index":"99"},attrs:{_hid:1},on:{tap:t.goback}}),a("view",{staticClass:"padding bg-white solid-bottom",staticStyle:{"padding-top":"100rpx"},attrs:{_hid:2}},[a("view",{staticClass:"flex p-xs  mb-sm",attrs:{_hid:3}},[a("view",{staticClass:"flex-sub text-black",staticStyle:{"font-size":"40rpx","font-weight":"bold"},attrs:{_hid:4}},[t._v(t._s(t.goods.title),5)])]),a("view",{staticClass:"flex justify-start",attrs:{_hid:6}},[a("view",{staticClass:"padding-sm",staticStyle:{"font-size":"46rpx","font-weight":"bold",color:"red",display:"table-cell","vertical-align":"middle"},attrs:{_hid:7}},[t._v(t._s(t.priceLabel),8)]),t._ri(!!t.promoteFlag,9)?a("view",{staticStyle:{display:"table-cell","vertical-align":"middle"},attrs:{_hid:9}},[a("text",{staticStyle:{padding:"5rpx 10rpx",color:"white","background-color":"red","border-radius":"10rpx"},attrs:{_hid:10}},[])]):t._e(),t._ri(!!t.promoteFlag,12)?a("view",{staticStyle:{display:"table-cell","vertical-align":"middle"},attrs:{_hid:12}},[a("text",{staticStyle:{color:"red","font-size":"32rpx"},attrs:{_hid:13}},[t._v(t._s(t.promoteLabel),14)])]):t._e()]),a("view",{staticClass:"flex text-lg text-bold margin-bottom-sm",attrs:{_hid:15}},[a("view",{staticClass:"flex-sub",staticStyle:{"padding-left":"0"},attrs:{_hid:16}},[]),a("view",{staticClass:"flex-treble",staticStyle:{"text-decoration":"underline"},attrs:{_hid:18}},[a("picker",{attrs:{mode:"selector",value:t.styleIndex,range:t.stylelist,_hid:19,_batrs:"value,range"},on:{change:t.selectStyle}},[t._v(t._s(t.goods.style[t.styleIndex].styleName),20)])],1)]),a("view",{staticClass:"flex justify-start margin-bottom-sm",attrs:{_hid:21}},[t._m(0),a("view",{staticClass:"text-lg text-bold text-blue",attrs:{_hid:24}},[t._v(t._s(t.goods.seller),25)])]),a("view",{staticClass:"flex text-lg text-bold margin-bottom-sm",staticStyle:{display:"table","vertical-align":"middle"},attrs:{_hid:26}},[a("view",{staticStyle:{display:"table-cell","vertical-align":"middle",width:"30%"},attrs:{_hid:27}},[]),t._m(1),a("view",{staticStyle:{display:"table-cell","font-size":"26rpx","vertical-align":"middle"},attrs:{_hid:31}},[t._v(t._s(t.goods.location),32)])]),a("view",{staticStyle:{border:"solid 0.1rpx #666"},attrs:{_hid:33}}),a("view",{staticStyle:{margin:"20rpx 0"},attrs:{_hid:34}},t._l(t.detaillist,function(e,i,s){var r=void 0!==s?s:i;return a("block",{key:i,attrs:{_hid:35,_fid:r,_fk:"index"}},[t._ri(!("text"!=e.type),36,void 0!==s?s:i)?a("text",{attrs:{_hid:36,_fid:r}},[t._v(t._s(e.value),37,r)]):t._e(),t._ri(!("image"!=e.type),38,void 0!==s?s:i)?a("image",{attrs:{src:e.value,_hid:38,_fid:r,_batrs:"src"}}):t._e()])},35,t._self))]),t._m(2),t._ri(!!t.tobuy,43)?a("view",{staticStyle:{position:"fixed","z-index":"101",top:"0",left:"0",width:"100%",height:"100%"},attrs:{_hid:43}},[a("view",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(100,100,100,0.5)"},attrs:{_hid:44},on:{tap:t.closeBuyLayer}}),a("view",{staticStyle:{position:"absolute",bottom:"0",width:"100%","max-height":"100%","background-color":"#fff"},attrs:{animation:t.tobuyAnimation,_hid:45,_batrs:"animation"}},[a("view",{staticClass:"cu-bar bg-red",attrs:{_hid:46}},[a("view",{staticClass:"action",attrs:{_hid:47},on:{tap:t.closeBuyLayer}},[a("text",{staticClass:"cuIcon-close",attrs:{_hid:48}})]),a("view",{staticClass:"content text-bold",attrs:{_hid:49}},[])]),a("form",{attrs:{_hid:51}},[a("view",{staticClass:"cu-form-group margin-top",attrs:{_hid:52}},[a("view",{staticClass:"title",attrs:{_hid:53}},[]),a("input",{attrs:{placeholder:"输入收货人姓名",name:"input",_hid:55}})]),a("view",{staticClass:"cu-form-group",attrs:{_hid:56}},[a("view",{staticClass:"title",attrs:{_hid:57}},[]),a("input",{attrs:{placeholder:"输入收货人手机号",type:"tel",name:"input",_hid:59}})]),a("view",{staticClass:"cu-form-group",attrs:{_hid:60}},[a("view",{staticClass:"title",attrs:{_hid:61}},[]),a("picker",{attrs:{mode:"multiSelector",value:t.regionIndex,range:t.regionArray,_hid:63,_batrs:"value,range"},on:{change:t.selectRegion,columnchange:t.regionChange}},[a("view",{staticClass:"picker",attrs:{_hid:64}},[t._v(t._s(t.regionArray[0][t.regionIndex[0]])+"，"+t._s(t.regionArray[1][t.regionIndex[1]])+"，"+t._s(t.regionArray[2][t.regionIndex[2]]),65)])])],1),a("view",{staticClass:"cu-form-group",attrs:{_hid:66}},[a("textarea",{attrs:{maxlength:"-1",placeholder:"请输入详细地址",_hid:67}})]),a("view",{staticClass:"cu-form-group align-start",attrs:{_hid:68}},[a("view",{staticClass:"title",attrs:{_hid:69}},[]),a("textarea",{attrs:{maxlength:"-1",placeholder:"你想对卖家说什么",_hid:71}})]),a("view",{staticClass:"cu-form-group",attrs:{_hid:72}},[a("view",{staticClass:"title",attrs:{_hid:73}},[]),a("text",{staticClass:"text-red text-bold",attrs:{_hid:75}},[t._v(t._s(t.priceLabel),76)])]),a("view",{staticClass:"cu-form-group",attrs:{_hid:77}},[a("view",{staticClass:"title",attrs:{_hid:78}},[]),a("uni-number-box",{attrs:{min:0,max:9,_hid:80,_batrs:"min,max",_cid:0}},[t._v(t._s(t.count),1082)])],1),a("view",{staticClass:"cu-form-group",attrs:{_hid:1083}},[a("view",{staticClass:"title",attrs:{_hid:1084}},[]),a("text",{staticClass:"text-red text-bold",attrs:{_hid:1086}},[t._v("¥"+t._s(t.goods.post_fee),1087)])]),a("view",{staticClass:"text-center text-xxl padding text-bold text-price text-red",attrs:{_hid:1088}},[t._v(t._s(t.price*t.count+t.goods.post_fee),1089)]),a("view",{staticClass:"padding flex flex-direction",attrs:{_hid:1090}},[a("button",{staticClass:"cu-btn bg-green margin-tb-sm lg",attrs:{_hid:1091}},[])],1)])],1)]):t._e()])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticStyle:{"border-radius":"10rpx"},attrs:{_hid:22}},[a("image",{staticStyle:{height:"40rpx",width:"40rpx"},attrs:{src:"../../../static/img/dian_small.png",_hid:23}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticStyle:{display:"table-cell","vertical-align":"middle"},attrs:{_hid:29}},[a("image",{staticStyle:{height:"40rpx",width:"40rpx"},attrs:{src:"../../../static/img/small_location.png",_hid:30}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cu-bar bg-white tabbar border shop fixed ",staticStyle:{top:"unset",bottom:"0","z-index":"100"},attrs:{_hid:39}},[a("view",{staticClass:"flex-sub bg-green submit cuIcon-markfill",staticStyle:{flex:"1","font-size":"60rpx"},attrs:{_hid:40}}),a("view",{staticClass:"flex-treble bg-red submit",attrs:{_hid:41}},[])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},a01b:function(t,e,a){"use strict";a.r(e);var i=a("d81a"),s=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=s.a},b8fc:function(t,e,a){"use strict";a("719a");var i=r(a("47d0")),s=r(a("3a53"));function r(t){return t&&t.__esModule?t:{default:t}}i.default.mpType="page";var o=new s.default(i.default);o.$mount()},d81a:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("b253"));function s(t){return t&&t.__esModule?t:{default:t}}var r={components:{uniNumberBox:i.default},data:function(){return{goods:{},priceLabel:"",detaillist:[],stylelist:[],styleIndex:0,promoteFlag:!1,promoteLabel:"",region:["广东省","广州市","海珠区"],regionArray:["请选择","请选择","请选择"],regionIndex:[0,0,0],regionData:[],price:0,count:1,tobuy:!0,tobuyAnimation:{}}},onLoad:function(e){var a=this;t.showToast({title:JSON.stringify(e)});var i=e.goodsId;t.request({url:"https://www.dpsoft.top/goods_new_detail.jsp",method:"POST",data:{goodsid:i},header:{"Content-Type":"application/json"},success:function(t){if(console.log(t.data),"ok"==t.data.status){a.$data.goods=t.data.data,a.promoteFlag=1==a.goods.promote,a.goods.price>a.goods.promote_price?a.priceLabel="¥"+a.goods.promote_price+" ~ ¥"+a.goods.max_price:a.priceLabel="¥"+a.goods.price+" ~ ¥"+a.goods.max_price,a.detaillist=a.goods.detail;var e=a.goods.style;for(var i in e){var s=e[i],r=s.styleName,o=s.goodsPrice,l=r+" ¥"+o,d=s.promotePrice;"undefined"!=typeof d&&null!=d&&(l=r+" ¥"+d),a.stylelist.push(l)}}}});var s=this,r={multiArray:this.regionArray,multiIndex:this.regionIndex,multiData:this.regionData},o="100000";t.request({url:"https://www.dpsoft.top/district.jsp",method:"POST",data:{code:o},header:{"Content-Type":"application/json"},success:function(t){if(console.log(t.data),"ok"==t.data.status){for(var e in r.multiData[0]=t.data.data,r.multiArray[0]=[],t.data.data){var a=t.data.data[e];r.multiArray[0].push(a.name)}r.multiIndex[1]=0,r.multiArray[1]=["请选择"],r.multiArray[2]=["请选择"],r.multiIndex[2]=0,s.regionArray=r.multiArray,s.regionIndex=r.multiIndex,s.regionData=r.multiData}}})},methods:{selectStyle:function(t){console.log("选择商品规格为",t.target.value),this.styleIndex=t.target.value;var e=this.goods.style[this.styleIndex];if(e.promotePrice){this.promoteFlag=!0;var a=e.promoteStarttime,i=e.promoteEndtime,s=Math.floor(Date().getTime()/1e3);s<a?(this.priceLabel="¥"+e.goodsPrice,this.promoteLabel=new Date(1e3*a).toLocaleDateString()+"开始",this.price=e.goodsPrice):s>i?(this.priceLabel="¥"+e.goodsPrice,this.promoteLabel="已结束",this.price=e.goodsPrice):(this.priceLabel="¥"+e.promotePrice,this.promoteLabel=new Date(1e3*i).toLocaleDateString()+"截止",this.price=e.promotePrice)}else this.priceLabel="¥"+e.goodsPrice,this.promoteFlag=!1,this.price=e.goodsPrice},RegionChange:function(t){this.region=t.detail.value},selectRegion:function(t){this.multiIndex=t.detail.value},regionChange:function(e){var a=this,i={multiArray:this.regionArray,multiIndex:this.regionIndex,multiData:this.regionData};switch(i.multiIndex[e.detail.column]=e.detail.value,e.detail.column){case 0:var s=i.multiData[0][i.multiIndex[0]].code;t.request({url:"https://www.dpsoft.top/district.jsp",method:"POST",data:{code:s},header:{"Content-Type":"application/json"},success:function(t){if(console.log(t.data),"ok"==t.data.status){for(var e in i.multiData[1]=t.data.data,i.multiArray[1]=[],t.data.data){var s=t.data.data[e];i.multiArray[1].push(s.name)}i.multiIndex[1]=0,i.multiArray[2]=["请选择"],i.multiIndex[2]=0,a.regionArray=i.multiArray,a.regionIndex=i.multiIndex,a.regionData=i.multiData}}});break;case 1:var r=i.multiData[1][i.multiIndex[1]].code;t.request({url:"https://www.dpsoft.top/district.jsp",method:"POST",data:{code:r},header:{"Content-Type":"application/json"},success:function(t){if(console.log(t.data),"ok"==t.data.status){for(var e in i.multiData[2]=t.data.data,i.multiArray[2]=[],t.data.data){var s=t.data.data[e];i.multiArray[2].push(s.name)}i.multiIndex[2]=0,a.regionArray=i.multiArray,a.regionIndex=i.multiIndex,a.regionData=i.multiData}}});break}},goback:function(){t.navigateBack({})},closeBuyLayer:function(){this.tobuy=!1;var e=t.createAnimation({duration:1e3,timingFunction:"ease-out"});this.tobuyAnimation=e.export()}}};e.default=r}).call(this,a("f266")["default"])}},[["b8fc","common/runtime","common/vendor"]]]);