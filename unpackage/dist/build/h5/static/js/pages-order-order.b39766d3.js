(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"2e5d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{system:this.systemInfo(),user:this.getUserInfo(),order:{},goods:{},shipArray:["顺丰","申通","韵达","圆通","中通","天天","邮政","德邦","中铁","韵达"],modalName:"",reason:""}},onLoad:function(t){var e=this,i=t.code;this.postJson({path:"/order_detail.jsp",data:{code:i},success:function(t){"ok"==t.data.status&&(e.order=t.data.data.order,e.goods=t.data.data.goods,e.goods.stateLabel=e.getStateLabel(e.goods.status),e.refund=t.data.data.refund,e.order.createTimeLabel=new Date(e.order.create_time).toLocaleDateString())}})},methods:{getStateLabel:function(){if(!this.refund||1!=this.order.status&&2!=this.order.status){var t=["待支付","待发货","待确认","已完成","已退货","已取消"];return t[this.order.status]}return"退货申请中"},orderCancel:function(){var t=this;uni.showLoading({title:"加载中"}),this.postJson({path:"/user_order_cancel.jsp",data:{code:this.order.code},success:function(e){uni.hideLoading(),"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}})},orderSellerCancel:function(){var t=this;this.postJson({path:"/seller_order_cancel.jsp",data:{code:this.order.code},success:function(e){"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}})},confirm:function(){var t=this;uni.showLoading({title:"加载中"}),this.postJson({path:"/user_order_confirm.jsp",data:{code:this.order.code},success:function(e){uni.hideLoading(),"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}})},contactBuyer:function(){uni.makePhoneCall({phoneNumber:this.order.phone})},contactSeller:function(){uni.showLoading({title:"加载中",mask:!0}),this.postJson({path:"/seller_user.jsp",data:{sellerUid:this.goods.seller},success:function(t){if("ok"==t.data.status){var e=t.data.data;uni.makePhoneCall({phoneNumber:e.phone})}else uni.showToast({icon:"none",title:t.data.msg})},complete:function(){uni.hideLoading()}})},orderRefund:function(){var t=this;!this.reason||this.reason.trim().length<=0?uni.showToast({icon:"none",title:"请输入退货理由"}):(uni.showLoading({title:"加载中"}),this.postJson({path:"/user_order_refund.jsp",data:{code:this.order.code,reason:this.reason},success:function(e){uni.hideLoading(),"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}}))},refundPass:function(){var t=this;uni.showLoading({title:"加载中"}),this.postJson({path:"/seller_order_refund_pass.jsp",data:{code:this.order.code},success:function(e){uni.hideLoading(),"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}})},refundRefuse:function(){var t=this;!this.reason||this.reason.trim().length<=0?uni.showToast({icon:"none",title:"请输入拒绝理由"}):(uni.showLoading({title:"加载中"}),this.postJson({path:"/seller_order_refund_refuse.jsp",data:{code:this.order.code,reason:this.reason},success:function(e){uni.hideLoading(),"ok"==e.data.status&&uni.redirectTo({url:"/pages/order/order?code="+t.order.code})}}))},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=""}}};e.default=s},7188:function(t,e,i){var s=i("b1e1");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("3a6dcc10",s,!0,{sourceMap:!1,shadowMode:!1})},8122:function(t,e,i){"use strict";i.r(e);var s=i("ba71"),a=i("8678");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("90cd");var o=i("2877"),c=Object(o["a"])(a["default"],s["a"],s["b"],!1,null,"ab3a3c2a",null);e["default"]=c.exports},8678:function(t,e,i){"use strict";i.r(e);var s=i("2e5d"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=a.a},"90cd":function(t,e,i){"use strict";var s=i("7188"),a=i.n(s);a.a},b1e1:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".order .cu-list .cu-item.order[data-v-ab3a3c2a]{height:%?220?%}.order .cu-list .cu-item.order .cu-avatar[data-v-ab3a3c2a]{width:%?200?%;height:%?200?%;left:%?0?%;background-size:cover;background-position:50%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.order .cu-list .cu-item.order .cu-avatar .goods-status[data-v-ab3a3c2a]{background-color:hsla(0,0%,39.2%,.5);width:100%;height:100%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;display:grid}.order .cu-list .cu-item.order .content[data-v-ab3a3c2a]{left:%?10?%;width:%?480?%;height:%?200?%;position:relative}.order .cu-list .cu-item.order .content .goods-title[data-v-ab3a3c2a]{height:%?100?%;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;overflow:hidden}.order .cu-list .cu-item.order .content .goods-seller[data-v-ab3a3c2a]{height:%?50?%;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.order .cu-list .cu-item.order .content .goods-action[data-v-ab3a3c2a]{height:%?50?%;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}",""])},ba71:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"order bg-gradual-pink",staticStyle:{position:"fixed",width:"100%",height:"100%"},style:{paddingTop:t.system.statusBarHeight+"px"}},[i("v-uni-view",{staticClass:"cu-bar ",staticStyle:{position:"fixed","z-index":"1",width:"100%","background-color":"rgba(224,57,151,0)"}},[i("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}},[i("v-uni-text",{staticClass:"cuIcon-back"})],1),i("v-uni-view",{staticClass:"content text-bold"},[t._v("订单详情")])],1),i("v-uni-scroll-view",{staticStyle:{width:"100%",height:"100%","padding-top":"100upx"},attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"cu-list menu sm-borde bg-white"},[i("v-uni-view",{staticClass:"cu-item order"},[i("v-uni-view",{staticClass:"cu-avatar radius",style:{backgroundImage:"url("+t.goods.img_title+")"}},[i("v-uni-text",{staticClass:"goods-status"},[t._v(t._s(t.goods.stateLabel))])],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"text-grey goods-title"},[t._v(t._s(t.goods.title))]),i("v-uni-view",{staticClass:"text-gray text-sm goods-seller"},[i("v-uni-text",{},[i("v-uni-text",{staticClass:"cuIcon-shop text-red  margin-right-xs"}),t._v(t._s(t.goods.seller)),i("v-uni-text",{staticClass:"fr"},[t._v(t._s(t.goods.area))])],1)],1),i("v-uni-view",{staticClass:"goods-action"},[i("v-uni-text",{staticClass:"text-price text-red text-lg",staticStyle:{"font-size":"40upx"}},[t._v(t._s(t.goods.price))])],1)],1)],1),null!=t.order.ship_no?i("v-uni-view",{staticClass:"cu-item arrow"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v(t._s(t.shipArray[t.order.ship_type])+"运单号")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.ship_no))])],1)],1):t._e(),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("收货人")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.receiver))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("联系电话")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.phone))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("收货地址")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.address))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("订单编号")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.code))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("订单时间")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.createTimeLabel))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("商品规格")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.style))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("商品价格")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-price text-xl text-red"},[t._v(t._s(t.order.goods_price))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("购买数量")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-xl"},[t._v(t._s(t.order.number))])],1)],1),t.order.take_type>0?i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("邮寄费用")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-price text-xl text-red"},[t._v(t._s(t.order.post_fee))])],1)],1):t._e(),null!=t.order.discount_label?i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v(t._s(t.order.discount_label))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-price text-xl text-red"},[t._v(t._s(t.order.discount_amount))])],1)],1):t._e(),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("支付金额")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-price text-xl text-red"},[t._v(t._s(t.order.amount))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("备注")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.order.remark))])],1)],1),null!=t.refund?[i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("退货编号")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.refund.refund_code))])],1)],1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-text",{},[t._v("退货理由")])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:" text-sm"},[t._v(t._s(t.refund.reason))])],1)],1)]:t._e(),i("v-uni-view",{staticClass:"padding flex flex-direction"},[t.user.uid==t.order.uid?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.contactSeller(e)}}},[t._v("联系卖家")]),0==t.order.status?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.pay(e)}}},[t._v("继续支付")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.orderCancel(e)}}},[t._v("取消订单")])]:t._e(),1==t.order.status?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",attrs:{"data-target":"申请退货"},on:{click:function(e){e=t.$handleEvent(e),t.showModal(e)}}},[t._v("申请退货")])]:t._e(),2==t.order.status?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.confirm(e)}}},[t._v("确认")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",attrs:{"data-target":"申请退货"},on:{click:function(e){e=t.$handleEvent(e),t.showModal(e)}}},[t._v("申请退货")])]:t._e()]:t._e(),t.user.uid!=t.order.uid?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.contactBuyer(e)}}},[t._v("联系买家")]),1==t.order.status?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",attrs:{"data-target":"同意退货"},on:{click:function(e){e=t.$handleEvent(e),t.showModal(e)}}},[t._v("同意退货")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",attrs:{"data-target":"拒绝退货"},on:{click:function(e){e=t.$handleEvent(e),t.showModal(e)}}},[t._v("拒绝退货")])]:t._e(),2==t.order.status?[i("v-uni-button",{staticClass:"cu-btn bg-pink margin-tb-sm lg",on:{click:function(e){e=t.$handleEvent(e),t.orderSellerCancel(e)}}},[t._v("取消订单")])]:t._e()]:t._e()],2)],2)],1),"申请退货"==t.modalName?i("v-uni-view",{staticClass:"cu-modal show"},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content text-bold"},[t._v(t._s(t.modalName))]),i("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding"},[i("v-uni-textarea",{staticClass:"text-xl text-black",staticStyle:{width:"100%",height:"200upx"},attrs:{maxlength:"-1",placeholder:"请输入退货理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-pink text-pink",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-left",on:{click:function(e){e=t.$handleEvent(e),t.orderRefund(e)}}},[t._v("确定")])],1)],1)],1)],1):t._e(),"拒绝退货"==t.modalName?i("v-uni-view",{staticClass:"cu-modal show"},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content text-bold"},[t._v(t._s(t.modalName))]),i("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding"},[i("v-uni-textarea",{staticClass:"text-xl text-black",staticStyle:{width:"100%",height:"200upx"},attrs:{maxlength:"-1",placeholder:"请输入拒绝理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-pink text-pink",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-left",on:{click:function(e){e=t.$handleEvent(e),t.refundRefuse(e)}}},[t._v("确定")])],1)],1)],1)],1):t._e(),"同意退货"==t.modalName?i("v-uni-view",{staticClass:"cu-modal show"},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content text-bold"},[t._v(t._s(t.modalName))]),i("v-uni-view",{staticClass:"action",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl text-black text-xl"},[t._v("确定同意买家退货吗？")]),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-pink text-pink",on:{click:function(e){e=t.$handleEvent(e),t.hideModal(e)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-pink margin-left",on:{click:function(e){e=t.$handleEvent(e),t.refundPass(e)}}},[t._v("确定")])],1)],1)],1)],1):t._e()],1)},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})}}]);