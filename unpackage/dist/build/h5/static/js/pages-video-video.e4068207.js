(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-video"],{3249:function(t,e,i){var a=i("d679");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("4d55b4f4",a,!0,{sourceMap:!1,shadowMode:!1})},"6b28":function(t,e,i){"use strict";var a=i("3249"),o=i.n(a);o.a},"97ff":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content",style:{height:t.clientHeight+"px"}},[i("v-uni-view",{staticClass:"cuIcon-roundleftfill-copy",staticStyle:{position:"fixed",color:"rgba(100,100,100,0.7)",left:"30upx","font-size":"70upx","z-index":"99"},style:{top:t.system.statusBarHeight+"px"},on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}}),i("v-uni-scroll-view",{staticClass:"scroll-content",style:{height:t.clientHeight+"px"},attrs:{"scroll-y":!0,"scroll-with-animation":!0,"scroll-into-view":t.scrollToView},on:{scroll:function(e){e=t.$handleEvent(e),t.scroll(e)},scrolltolower:function(e){e=t.$handleEvent(e),t.scrolltolower(e)},touchstart:function(e){e=t.$handleEvent(e),t.touchStart(e)},touchmove:function(e){e=t.$handleEvent(e),t.touchMove(e)},touchend:function(e){e=t.$handleEvent(e),t.touchEnd(e)},click:function(e){e=t.$handleEvent(e),t.play(t.currentPage)}}},t._l(t.videolist,function(e,a){return i("v-uni-view",{key:a,staticClass:"video-view",style:{backgroundImage:"url("+e.cover_img_url+")",height:t.clientHeight+"px"},attrs:{id:"view-"+a}},[a==t.playIndex?i("v-uni-video",{style:{height:t.clientHeight+"px"},attrs:{id:"video-"+a,src:e.video_url,loop:"true",controls:!1,"show-progress":!1,"show-fullscreen-btn":!1,"show-play-btn":!1,"show-center-play-btn":!1,"enable-progress-gesture":!1}},[t.showCover?i("v-uni-cover-image",{staticClass:"play_icon",style:{display:a!=t.playIndex?"block":"none"},attrs:{animation:t.animationData,src:"/static/img/play.png"}}):t._e(),t.showCover?i("v-uni-cover-view",{staticClass:"container-action",attrs:{animation:t.animationData}},[i("v-uni-cover-image",{staticClass:"action head-img",attrs:{src:e.head_img}}),i("v-uni-cover-image",{staticClass:"action like",attrs:{src:"/static/img/favor.png"}}),i("v-uni-cover-view",{staticClass:"action-number"},[t._v(t._s(e.favorite_num))]),i("v-uni-cover-image",{staticClass:"action comment",attrs:{src:"/static/img/comments.png"}}),i("v-uni-cover-view",{staticClass:"action-number"},[t._v(t._s(e.comment_num))]),i("v-uni-cover-image",{staticClass:"action share",attrs:{src:"/static/img/share.png"}}),i("v-uni-cover-view",{staticClass:"action-number"},[t._v(t._s(e.share_num))]),i("v-uni-cover-image",{staticClass:"action buy",attrs:{src:"/static/img/buy.png"},on:{click:function(i){i=t.$handleEvent(i),t.toPage("/pages/goods/goods?goodsId="+e.goodsid)}}})],1):t._e(),t.showCover?i("v-uni-cover-view",{staticClass:"container-words",attrs:{animation:t.animationData}},[i("v-uni-cover-view",{staticClass:"location"},[i("v-uni-cover-image",{staticClass:"location-icon",attrs:{src:"/static/img/small_location_white.png"}}),i("v-uni-cover-view",{staticClass:"address"},[t._v(t._s(e.location_name))])],1),i("v-uni-cover-view",{staticClass:"words nickname"},[t._v("@"+t._s(e.nick_name))]),i("v-uni-cover-view",{staticClass:"words desc"},[t._v(t._s(e.video_desc))]),null!=e.goodstitle?i("v-uni-cover-view",{staticClass:"goods",on:{click:function(i){i=t.$handleEvent(i),t.toPage("/pages/goods/goods?goodsId="+e.goodsid)}}},[i("v-uni-cover-view",{staticClass:"pricetag"},[i("v-uni-cover-view",{staticClass:"price"},[t._v("¥"+t._s(e.goodsprice))]),1===e.promote?i("v-uni-cover-image",{staticClass:"tag",attrs:{src:"/static/img/promote.png"}}):t._e()],1),i("v-uni-cover-view",{staticClass:"title"},[t._v(t._s(e.goodstitle))]),i("v-uni-cover-view",{staticClass:"shop"},[i("v-uni-cover-image",{staticClass:"dian",attrs:{src:"/static/img/dian_small.png"}}),i("v-uni-cover-view",{staticClass:"seller"},[t._v(t._s(e.goodsnick)+" | "+t._s(e.goodsarea))])],1)],1):t._e()],1):t._e()],1):t._e(),a!=t.playIndex?i("v-uni-view",{staticClass:"touchlayer"},[i("v-uni-view",{staticClass:"mask",style:{backgroundColor:a===t.playIndex?"rgba(100,100,100,0)":"rgba(100,100,100,0.5)"}},[i("v-uni-image",{staticClass:"play_icon",style:{display:a!=t.playIndex?"block":"none"},attrs:{src:"/static/img/play.png"}})],1),i("v-uni-view",{staticClass:"container-action"},[i("v-uni-image",{staticClass:"action head-img",attrs:{src:e.head_img}}),i("v-uni-image",{staticClass:"action like",attrs:{src:"/static/img/favor.png"}}),i("v-uni-view",{staticClass:"action-number"},[t._v(t._s(e.favorite_num))]),i("v-uni-image",{staticClass:"action comment",attrs:{src:"/static/img/comments.png"}}),i("v-uni-view",{staticClass:"action-number"},[t._v(t._s(e.comment_num))]),i("v-uni-image",{staticClass:"action share",attrs:{src:"/static/img/share.png"}}),i("v-uni-view",{staticClass:"action-number"},[t._v(t._s(e.share_num))]),i("v-uni-image",{staticClass:"action buy",attrs:{src:"/static/img/buy.png"},on:{click:function(i){i=t.$handleEvent(i),t.toPage("/pages/goods/goods?goodsId="+e.goodsid)}}})],1),i("v-uni-view",{staticClass:"container-words"},[i("v-uni-view",{staticClass:"location"},[i("v-uni-image",{staticClass:"location-icon",attrs:{src:"/static/img/small_location_white.png"}}),i("v-uni-view",{staticClass:"address"},[t._v(t._s(e.location_name))])],1),i("v-uni-view",{staticClass:"words nickname"},[t._v("@"+t._s(e.nick_name))]),i("v-uni-view",{staticClass:"words desc"},[t._v(t._s(e.video_desc))]),null!=e.goodstitle?i("v-uni-view",{staticClass:"goods",on:{click:function(i){i=t.$handleEvent(i),t.toPage("/pages/goods/goods?goodsId="+e.goodsid)}}},[i("v-uni-view",{staticClass:"pricetag"},[i("v-uni-view",{staticClass:"price"},[t._v("¥"+t._s(e.goodsprice))]),1===e.promote?i("v-uni-image",{staticClass:"tag",attrs:{src:"/static/img/promote.png"}}):t._e()],1),i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.goodstitle))]),i("v-uni-view",{staticClass:"shop"},[i("v-uni-image",{staticClass:"dian",attrs:{src:"/static/img/dian_small.png"}}),i("v-uni-view",{staticClass:"seller"},[t._v(t._s(e.goodsnick)+" | "+t._s(e.goodsarea))])],1)],1):t._e()],1)],1):t._e()],1)}),1)],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},ac6ab:function(t,e,i){"use strict";i.r(e);var a=i("97ff"),o=i("b28c");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("6b28");var s=i("2877"),c=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"8c37ffee",null);e["default"]=c.exports},b28c:function(t,e,i){"use strict";i.r(e);var a=i("dfd0"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},d679:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-8c37ffee]{overflow-x:display}uni-cover-view.touchlayer[data-v-8c37ffee]{position:relative;width:100%;height:100%;top:0;left:0;background-color:rgba(200,0,0,0)}uni-view.touchlayer[data-v-8c37ffee]{position:relative;width:100%;height:100%;top:0;left:0;background-color:rgba(200,0,0,0)}uni-cover-view.container-action[data-v-8c37ffee]{width:%?90?%;bottom:%?60?%;right:%?20?%;position:absolute}uni-view.container-action[data-v-8c37ffee]{width:%?90?%;bottom:%?60?%;right:%?20?%;position:absolute}.container-action .action[data-v-8c37ffee]{margin-top:%?40?%;width:%?90?%;height:%?90?%}.container-action .action-number[data-v-8c37ffee]{text-align:center;color:#fff;margin-top:%?10?%;font-size:%?30?%}.container-action .action.head-img[data-v-8c37ffee]{border-radius:%?50?%}uni-cover-view.container-words[data-v-8c37ffee]{position:absolute;width:75%;left:%?20?%;bottom:%?40?%;color:#fff;font-size:%?34?%;white-space:pre-wrap}uni-view.container-words[data-v-8c37ffee]{position:absolute;width:75%;left:%?20?%;bottom:%?40?%;color:#fff;font-size:%?34?%;white-space:pre-wrap}.container-words .location[data-v-8c37ffee]{width:100%}.container-words .location .location-icon[data-v-8c37ffee]{display:inline-block;width:%?40?%;height:%?40?%;vertical-align:middle}.container-words .location .address[data-v-8c37ffee]{display:inline-block;height:%?40?%;color:#fff;font-size:%?30?%}.container-words .words[data-v-8c37ffee]{margin-top:%?10?%;white-space:pre-wrap;width:100%}.container-words .goods[data-v-8c37ffee]{background-color:hsla(0,0%,51%,.5);border-radius:%?10?%;padding:%?15?%;vertical-align:middle;margin-top:%?10?%}.container-words .goods .price[data-v-8c37ffee]{color:red;font-weight:700;font-size:%?40?%;width:%?150?%;display:inline-block}.container-words .goods .tag[data-v-8c37ffee]{left:%?100?%;height:%?30?%}.container-words .goods .title[data-v-8c37ffee]{color:#ff0;font-weight:700;font-size:%?34?%;white-space:pre-wrap;width:100%;margin-top:%?10?%}.container-words .shop[data-v-8c37ffee]{width:100%;margin-top:%?10?%}.container-words .shop .dian[data-v-8c37ffee]{height:%?40?%;width:%?40?%;display:inline-block;vertical-align:bottom}.container-words .shop .seller[data-v-8c37ffee]{left:%?40?%;display:inline-block;height:%?40?%}uni-cover-view.mask[data-v-8c37ffee]{width:100%;height:100%;position:absolute}uni-view.mask[data-v-8c37ffee]{width:100%;height:100%;position:absolute}.play_icon[data-v-8c37ffee]{width:%?150?%;height:%?150?%;margin-left:auto;margin-right:auto;margin-top:65%}.content[data-v-8c37ffee]{width:100%;margin:0;background-color:#000}.content uni-video[data-v-8c37ffee]{width:100%;margin:0}.scroll-content[data-v-8c37ffee]{width:%?750?%;margin:0;overflow:scroll;position:absolute}.video-view[data-v-8c37ffee]{background-position:50%;background-size:contain;background-repeat:no-repeat;width:%?750?%;margin:0}.video-view uni-video[data-v-8c37ffee]{width:100%;margin:0;position:relative}.page223[data-v-8c37ffee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:100%;position:absolute;top:0;left:0;overflow:hidden}.page.hide[data-v-8c37ffee]{display:none}\n/*==================================*/.page.inTop[data-v-8c37ffee]{-webkit-animation:ShowTop-data-v-8c37ffee .5s ease-out both;animation:ShowTop-data-v-8c37ffee .5s ease-out both}.page.outTop[data-v-8c37ffee]{-webkit-animation:HideTop-data-v-8c37ffee .5s ease-out both;animation:HideTop-data-v-8c37ffee .5s ease-out both}.page.inDown[data-v-8c37ffee]{-webkit-animation:ShowDown-data-v-8c37ffee .5s ease-out both;animation:ShowDown-data-v-8c37ffee .5s ease-out both}.page.outDown[data-v-8c37ffee]{-webkit-animation:HideDown-data-v-8c37ffee .5s ease-out both;animation:HideDown-data-v-8c37ffee .5s ease-out both}@-webkit-keyframes ShowTop-data-v-8c37ffee{to{top:0}}@keyframes ShowTop-data-v-8c37ffee{to{top:0}}@-webkit-keyframes HideTop-data-v-8c37ffee{to{top:-100%}}@keyframes HideTop-data-v-8c37ffee{to{top:-100%}}@-webkit-keyframes ShowDown-data-v-8c37ffee{to{top:0}}@keyframes ShowDown-data-v-8c37ffee{to{top:0}}@-webkit-keyframes HideDown-data-v-8c37ffee{to{top:100%}}@keyframes HideDown-data-v-8c37ffee{to{top:100%}}\n/*==================================*/.arrow[data-v-8c37ffee]{width:70px;height:56px;line-height:56px;text-align:center;font-size:50px;font-weight:700;color:#d00;position:absolute;left:285px;bottom:10px;-webkit-animation:arrow-data-v-8c37ffee 1.2s .5s ease-in-out infinite;animation:arrow-data-v-8c37ffee 1.2s .5s ease-in-out infinite}@-webkit-keyframes arrow-data-v-8c37ffee{0%{-webkit-transform:translateY(0);opacity:1}to{-webkit-transform:translateY(-50%);opacity:0}}@keyframes arrow-data-v-8c37ffee{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}to{-webkit-transform:translateY(-50%);transform:translateY(-50%);opacity:0}}\n/*==================================*/@-webkit-keyframes fadeRightTan-data-v-8c37ffee{0%{-webkit-transform:translateX(100%);opacity:0}70%{-webkit-transform:translateX(-5%);opacity:1}80%{-webkit-transform:translateX(2%);opacity:1}90%{-webkit-transform:translateX(-2%);opacity:1}to{-webkit-transform:translateX(0);opacity:1}}@keyframes fadeRightTan-data-v-8c37ffee{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}70%{-webkit-transform:translateX(-5%);transform:translateX(-5%);opacity:1}80%{-webkit-transform:translateX(2%);transform:translateX(2%);opacity:1}90%{-webkit-transform:translateX(-2%);transform:translateX(-2%);opacity:1}to{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}}",""])},dfd0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{system:this.systemInfo(),title:"Hello",videolist:[],clientHeight:"0",currentPage:0,showPage:0,nextPage:0,outDown:-1,inDown:-1,outTop:-1,inTop:-1,touchdata:{can:!0,startY:0,endY:0,diff:0},playIndex:-1,scrollTop:0,scrollStart:-1,scrollToView:"view-0",refresh:!1,showCover:!1,animationData:{},playTime:0}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){console.log(e.model),console.log(e.pixelRatio),console.log(e.windowWidth),console.log(e.windowHeight),console.log(e.language),console.log(e.version),console.log(e.platform),t.$data.clientHeight=e.windowHeight}})},watch:{},onLoad:function(t){var e=this,i=t.type,a=t.index;this.postJson({path:"/user_video_list.jsp",data:{type:i},success:function(t){"ok"==t.data.status&&(e.videolist=t.data.data,e.currentPage=a,e.scrollToView="view-"+a)}})},onReachBottom:function(){this.play(-1)},onPullDownRefresh:function(){this.play(-1),uni.stopPullDownRefresh()},methods:{play:function(t){var e="video-"+t,i="video-"+this.playIndex;if(-1==this.playIndex){this.playIndex=t;var a=uni.createVideoContext(e);a&&(a.play(),this.playTime=(new Date).getTime())}else{var o=uni.createVideoContext(i);if(o){o.pause();var n={playTime:this.playTime,endTime:(new Date).getTime(),videoId:this.videolist[this.playIndex].id,videoUid:this.videolist[this.playIndex].uid};this.browser(n),t!=this.playIndex?(this.playIndex=t,o=uni.createVideoContext(e),o&&(o.play(),this.playTime=(new Date).getTime())):this.playIndex=-1}}},pause:function(t){var e="video-"+t,i=uni.createVideoContext(e);if(i){i.pause();var a={playTime:this.playTime,endTime:(new Date).getTime(),videoId:this.videolist[t].id,videoUid:this.videolist[t].uid};this.browser(a)}this.playIndex=-1},browser:function(t){t.playTime<=0||(this.playTime=0,this.postJson({path:"/video_browser_do.jsp",data:t,success:function(t){}}))},tap:function(t){uni.showToast({title:"ontap"})},scroll:function(t){var e=this;setTimeout(function(){e.pause(e.currentPage),e.playIndex,e.touchdata.diff+=t.detail.deltaY,e.touchdata.diff>0?(console.log("this.touchdata.diff>0"),t.detail.scrollTop%e.clientHeight<e.clientHeight-10?(console.log("e.detail.scrollTop%this.clientHeight < this.clientHeight*3/4"),e.nextPage=Math.floor(t.detail.scrollTop/e.clientHeight)):e.nextPage=Math.floor(t.detail.scrollTop/e.clientHeight+1),e.nextPage<0&&(e.nextPage=0)):(t.detail.scrollTop%e.clientHeight>=10?e.nextPage=Math.floor(t.detail.scrollTop/e.clientHeight+1):e.nextPage=Math.floor(t.detail.scrollTop/e.clientHeight),e.nextPage>=e.videolist.length&&(e.nextPage=e.videolist.length-1))},100)},scrollTo:function(t){this.play(t)},scrollMove:function(t){},touchStart:function(t){var e=t.touches[0];this.touchdata.startY=e.pageY,this.scrollStart=this.scrollTop,console.log("y="+this.touchdata.startY),this.inDown=-1,this.outTop=-1,this.inTop=-1,this.outDown=-1,this.touchdata.diff=0},touchMove:function(t){var e=t.touches[0],i=e.pageY;this.touchdata.diff=i-this.touchdata.startY,console.log("currentPage="+this.currentPage+",nextPage="+this.nextPage+",diff="+this.touchdata.diff+",y="+i+",startY="+this.touchdata.startY)},touchEnd:function(t){var e=this;this.touchdata.diff=0,this.scrollToView="view-"+this.nextPage,setTimeout(function(){e.scrollToView=""},500),this.currentPage!=this.nextPage&&(this.currentPage=this.nextPage),console.log("currentPage="+this.currentPage+",nextPage="+this.nextPage+",diff="+this.touchdata.diff)},touchCacel:function(t){this.touchEnd(t)}}};e.default=a}}]);